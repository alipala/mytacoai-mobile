{
  "openapi": "3.1.0",
  "info": {
    "title": "Language Tutor Backend API",
    "version": "0.1.0"
  },
  "paths": {
    "/api/auth/check-user-type": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Check User Type",
        "description": "Check if an email belongs to a tutor or institution admin\nReturns the user type and appropriate login URL",
        "operationId": "check_user_type_api_auth_check_user_type_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailCheckRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/register": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Register",
        "description": "Register a new user with email and password",
        "operationId": "register_api_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Login",
        "description": "Login with email and password",
        "operationId": "login_api_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/token": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Login For Access Token",
        "description": "OAuth2 compatible token login, get an access token for future requests",
        "operationId": "login_for_access_token_api_auth_token_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_for_access_token_api_auth_token_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/google-login": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Google Login",
        "description": "Login with Google OAuth token",
        "operationId": "google_login_api_auth_google_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/google-callback": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Google Callback",
        "description": "Handle Google OAuth callback",
        "operationId": "google_callback_api_auth_google_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "error",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Error"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/forgot-password": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Forgot Password",
        "description": "Request a password reset token",
        "operationId": "forgot_password_api_auth_forgot_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/reset-password": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Confirm Reset Password",
        "description": "Reset password using token",
        "operationId": "confirm_reset_password_api_auth_reset_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetConfirm"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Logout",
        "description": "Logout and invalidate the current session",
        "operationId": "logout_api_auth_logout_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/me": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get User Me",
        "description": "Get current user information",
        "operationId": "get_user_me_api_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/push-token": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Register Push Token",
        "description": "Register or update user's Expo push notification token",
        "operationId": "register_push_token_api_auth_push_token_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Push Token Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/update-profile": {
      "put": {
        "tags": [
          "authentication"
        ],
        "summary": "Update Profile",
        "description": "Update user profile information",
        "operationId": "update_profile_api_auth_update_profile_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/update-password": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Update Password",
        "description": "Update user password",
        "operationId": "update_password_api_auth_update_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/deactivate-account": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Deactivate Account",
        "description": "Deactivate user account by setting is_active to false",
        "operationId": "deactivate_account_api_auth_deactivate_account_post",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/verify-email": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Verify Email Get Redirect",
        "description": "Handle GET requests from email links - directly verify and show success page",
        "operationId": "verify_email_get_redirect_api_auth_verify_email_get",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Verify Email",
        "description": "Verify email address using verification token",
        "operationId": "verify_email_api_auth_verify_email_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationConfirm"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/resend-verification": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Resend Verification",
        "description": "Resend verification email to user",
        "operationId": "resend_verification_api_auth_resend_verification_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/mark-existing-users-verified": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Mark Existing Verified",
        "description": "Mark all existing users as verified (migration endpoint)",
        "operationId": "mark_existing_verified_api_auth_mark_existing_users_verified_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/auth/verification-status/{email}": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Verification Status",
        "description": "Get verification status for an email (for debugging)",
        "operationId": "get_verification_status_api_auth_verification_status__email__get",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Email"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/select-voice": {
      "post": {
        "tags": [
          "authentication"
        ],
        "summary": "Select Voice",
        "description": "Update user's preferred AI tutor voice (for registered users only)",
        "operationId": "select_voice_api_auth_select_voice_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoiceSelectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VoiceSelectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/auth/get-voice": {
      "get": {
        "tags": [
          "authentication"
        ],
        "summary": "Get Voice Preference",
        "description": "Get user's current AI tutor voice preference",
        "operationId": "get_voice_preference_api_auth_get_voice_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/learning/goals": {
      "get": {
        "tags": [
          "learning"
        ],
        "summary": "Get Learning Goals",
        "description": "Get a list of learning goals\n\nArgs:\n    enriched: If True, return enriched goals with sub-goals. If False, return legacy format.",
        "operationId": "get_learning_goals_api_learning_goals_get",
        "parameters": [
          {
            "name": "enriched",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Enriched"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  },
                  "title": "Response Get Learning Goals Api Learning Goals Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning/goals/{goal_id}/sub-goals": {
      "get": {
        "tags": [
          "learning"
        ],
        "summary": "Get Sub Goals",
        "description": "Get sub-goals for a specific main goal\n\nArgs:\n    goal_id: Main goal identifier (e.g., \"travel\", \"business\")\n    \nReturns:\n    List of sub-goals with descriptions",
        "operationId": "get_sub_goals_api_learning_goals__goal_id__sub_goals_get",
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning/plan": {
      "post": {
        "tags": [
          "learning"
        ],
        "summary": "Create Learning Plan",
        "description": "Create a custom learning plan based on user's proficiency level, goals, and duration.\nAuthentication is required for assessment data processing.\n\ud83d\udd25 FIXED: Now handles missing required fields and different request formats gracefully",
        "operationId": "create_learning_plan_api_learning_plan_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Request Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningPlan"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/learning/plan/{plan_id}": {
      "get": {
        "tags": [
          "learning"
        ],
        "summary": "Get Learning Plan",
        "description": "Get a specific learning plan by ID",
        "operationId": "get_learning_plan_api_learning_plan__plan_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningPlan"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning/plan/{plan_id}/assign": {
      "put": {
        "tags": [
          "learning"
        ],
        "summary": "Assign Plan To User",
        "description": "Assign an anonymous learning plan to the current user",
        "operationId": "assign_plan_to_user_api_learning_plan__plan_id__assign_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningPlan"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning/plans": {
      "get": {
        "tags": [
          "learning"
        ],
        "summary": "Get User Learning Plans",
        "description": "Get all learning plans for the current user",
        "operationId": "get_user_learning_plans_api_learning_plans_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/LearningPlan"
                  },
                  "type": "array",
                  "title": "Response Get User Learning Plans Api Learning Plans Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/learning/plan/{plan_id}/progress": {
      "put": {
        "tags": [
          "learning"
        ],
        "summary": "Update Session Progress",
        "description": "Update the session progress for a learning plan",
        "operationId": "update_session_progress_api_learning_plan__plan_id__progress_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionProgressUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/progress/dashboard-data": {
      "get": {
        "tags": [
          "progress"
        ],
        "summary": "Get Dashboard Data",
        "description": "\ud83d\ude80 BATCH ENDPOINT: Get all dashboard data in a single request\n\nThis endpoint combines multiple API calls into one:\n- Progress stats\n- Recent conversations\n- Achievements\n- Flashcard sets\n- Due flashcards\n- Learning plans\n\nAll queries run in parallel for optimal performance.",
        "operationId": "get_dashboard_data_api_progress_dashboard_data_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/progress/save-conversation": {
      "post": {
        "tags": [
          "progress"
        ],
        "summary": "Save Conversation",
        "description": "Save a conversation session for a registered user with batch sentence analysis",
        "operationId": "save_conversation_api_progress_save_conversation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveConversationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/progress/stats": {
      "get": {
        "tags": [
          "progress"
        ],
        "summary": "Get Progress Stats",
        "description": "\ud83d\udd25 FIXED: Get user's conversation statistics INCLUDING learning plan sessions",
        "operationId": "get_progress_stats_api_progress_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/progress/conversations": {
      "get": {
        "tags": [
          "progress"
        ],
        "summary": "Get Conversation History",
        "description": "Get user's conversation history",
        "operationId": "get_conversation_history_api_progress_conversations_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/progress/conversation/{session_id}/analysis": {
      "get": {
        "tags": [
          "progress"
        ],
        "summary": "Get Conversation Analysis",
        "description": "Get enhanced analysis for a specific conversation session",
        "operationId": "get_conversation_analysis_api_progress_conversation__session_id__analysis_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/progress/achievements": {
      "get": {
        "tags": [
          "progress"
        ],
        "summary": "Get User Achievements",
        "description": "Get user's achievements based on their progress",
        "operationId": "get_user_achievements_api_progress_achievements_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/export/learning-plans": {
      "get": {
        "tags": [
          "export"
        ],
        "summary": "Export Learning Plans",
        "description": "Export learning plans and assessments",
        "operationId": "export_learning_plans_api_export_learning_plans_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "json",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/export/conversations": {
      "get": {
        "tags": [
          "export"
        ],
        "summary": "Export Conversations",
        "description": "Export conversation history and analysis",
        "operationId": "export_conversations_api_export_conversations_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "json",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/export/data": {
      "get": {
        "tags": [
          "export"
        ],
        "summary": "Export All Data",
        "description": "Export all user data",
        "operationId": "export_all_data_api_export_data_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "json",
              "title": "Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/project-knowledge": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Get Project Knowledge",
        "description": "Answer questions about the Language Tutor project using RAG",
        "operationId": "get_project_knowledge_api_chat_project_knowledge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProjectKnowledgeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/vector-knowledge": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Get Vector Knowledge",
        "description": "Answer questions using vector similarity search and GPT",
        "operationId": "get_vector_knowledge_api_chat_vector_knowledge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VectorChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VectorChatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/contextual-knowledge": {
      "post": {
        "tags": [
          "contextual-chat"
        ],
        "summary": "Get Contextual Knowledge",
        "description": "Answer questions using vector similarity search and GPT with user context awareness",
        "operationId": "get_contextual_knowledge_api_chat_contextual_knowledge_post",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Token"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContextualChatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextualChatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/login": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Login",
        "description": "Admin login endpoint",
        "operationId": "admin_login_api_admin_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/dashboard": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Dashboard Metrics",
        "description": "Get dashboard metrics",
        "operationId": "get_dashboard_metrics_api_admin_dashboard_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardMetrics"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/admin/users": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Users Admin",
        "description": "Get users with pagination and search for admin panel",
        "operationId": "get_users_admin_api_admin_users_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          },
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Q"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          },
          {
            "name": "is_verified",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Verified"
            }
          },
          {
            "name": "preferred_language",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Preferred Language"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Create User Admin",
        "description": "Create a new user",
        "operationId": "create_user_admin_api_admin_users_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "User Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/users/{user_id}": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get User Admin",
        "description": "Get single user details",
        "operationId": "get_user_admin_api_admin_users__user_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "admin"
        ],
        "summary": "Update User Admin",
        "description": "Update user details",
        "operationId": "update_user_admin_api_admin_users__user_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "User Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin"
        ],
        "summary": "Delete User Admin",
        "description": "Delete a user (admin only)",
        "operationId": "delete_user_admin_api_admin_users__user_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/conversation_sessions": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Conversations Admin",
        "description": "Get conversation sessions with pagination for admin panel",
        "operationId": "get_conversations_admin_api_admin_conversation_sessions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/conversation_sessions/{conversation_id}": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Conversation Admin",
        "description": "Get single conversation details",
        "operationId": "get_conversation_admin_api_admin_conversation_sessions__conversation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/learning_plans": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Learning Plans Admin",
        "description": "Get learning plans with pagination for admin panel",
        "operationId": "get_learning_plans_admin_api_admin_learning_plans_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/user_stats": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get User Stats Admin",
        "description": "Get user statistics with pagination for admin panel",
        "operationId": "get_user_stats_admin_api_admin_user_stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/badges": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Badges Admin",
        "description": "Get badges with pagination for admin panel",
        "operationId": "get_badges_admin_api_admin_badges_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/assessment_history": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Assessment History Admin",
        "description": "Get assessment history with pagination for admin panel",
        "operationId": "get_assessment_history_admin_api_admin_assessment_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/fix-subscription-dates/{user_id}": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Fix Subscription Dates",
        "description": "Fix subscription dates by syncing from Stripe",
        "operationId": "fix_subscription_dates_api_admin_fix_subscription_dates__user_id__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/health": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Admin Health Check",
        "description": "Admin health check endpoint",
        "operationId": "admin_health_check_api_admin_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/stripe/create-checkout-session": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Create Checkout Session",
        "operationId": "create_checkout_session_api_stripe_create_checkout_session_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/stripe/customer-portal": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Create Customer Portal Session",
        "operationId": "create_customer_portal_session_api_stripe_customer_portal_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/subscription-status": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Get Subscription Status",
        "description": "\ud83d\udd25 FIXED: Use SubscriptionService for consistent data",
        "operationId": "get_subscription_status_api_stripe_subscription_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/subscription-limits": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Get Subscription Limits",
        "description": "Get user's subscription limits and current usage",
        "operationId": "get_subscription_limits_api_stripe_subscription_limits_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/track-usage": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Track Usage",
        "description": "Track usage of practice sessions or assessments",
        "operationId": "track_usage_api_stripe_track_usage_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UsageTrackingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/track-speaking-time": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Track Speaking Time",
        "description": "Track speaking time and optionally increment session count - supports both authenticated and beacon requests",
        "operationId": "track_speaking_time_api_stripe_track_speaking_time_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/stripe/can-start-session": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Can Start Session",
        "description": "Check if user can start a new session based on minute limits",
        "operationId": "can_start_session_api_stripe_can_start_session_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/can-access/{feature_type}": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Can Access Feature",
        "description": "Check if user can access a specific feature",
        "operationId": "can_access_feature_api_stripe_can_access__feature_type__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "feature_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Feature Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stripe/plans": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Get Subscription Plans",
        "description": "Get all available subscription plans",
        "operationId": "get_subscription_plans_api_stripe_plans_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/stripe/plan/{plan_id}": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Get Plan Details",
        "description": "Get details for a specific subscription plan",
        "operationId": "get_plan_details_api_stripe_plan__plan_id__get",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stripe/expiry-warning": {
      "get": {
        "tags": [
          "stripe"
        ],
        "summary": "Get Expiry Warning",
        "description": "Get expiry warning message if applicable",
        "operationId": "get_expiry_warning_api_stripe_expiry_warning_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/cancel-subscription": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Cancel Subscription",
        "description": "Cancel user's active subscription or trial",
        "operationId": "cancel_subscription_api_stripe_cancel_subscription_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/reactivate-subscription": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Reactivate Subscription",
        "description": "Reactivate user's canceled subscription",
        "operationId": "reactivate_subscription_api_stripe_reactivate_subscription_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/link-guest-subscription": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Link Guest Subscription",
        "description": "Link a guest subscription to the user account after signup",
        "operationId": "link_guest_subscription_api_stripe_link_guest_subscription_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/stripe/webhook": {
      "post": {
        "tags": [
          "stripe"
        ],
        "summary": "Stripe Webhook",
        "operationId": "stripe_webhook_api_stripe_webhook_post",
        "parameters": [
          {
            "name": "stripe-signature",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Stripe-Signature"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/upgrade/options": {
      "get": {
        "tags": [
          "upgrade"
        ],
        "summary": "Get Upgrade Options",
        "description": "Get personalized upgrade options for the current user\n\nReturns:\n    Dictionary with current_plan and upgrade_options",
        "operationId": "get_upgrade_options_api_upgrade_options_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Upgrade Options Api Upgrade Options Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/upgrade/process": {
      "post": {
        "tags": [
          "upgrade"
        ],
        "summary": "Process Upgrade",
        "description": "Process a subscription upgrade\n\nArgs:\n    request: UpgradeProcessRequest with price_id and upgrade_type\n    \nReturns:\n    Dictionary with success status and details",
        "operationId": "process_upgrade_api_upgrade_process_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpgradeProcessRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Process Upgrade Api Upgrade Process Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/admin/notifications": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Create Notification",
        "description": "Create a new notification (Admin only)",
        "operationId": "create_notification_api_admin_notifications_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "List Notifications Admin",
        "description": "List all notifications (Admin only)",
        "operationId": "list_notifications_admin_api_admin_notifications_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "sort_field",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "created_at",
              "title": "Sort Field"
            }
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc",
              "title": "Sort Order"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/notifications/{notification_id}": {
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "Get Notification Admin",
        "description": "Get a specific notification (Admin only)",
        "operationId": "get_notification_admin_api_admin_notifications__notification_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "notification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Notification Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "notifications"
        ],
        "summary": "Update Notification Admin",
        "description": "Update a notification (Admin only)",
        "operationId": "update_notification_admin_api_admin_notifications__notification_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "notification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Notification Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "notifications"
        ],
        "summary": "Delete Notification Admin",
        "description": "Delete a notification (Admin only)",
        "operationId": "delete_notification_admin_api_admin_notifications__notification_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "notification_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Notification Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/": {
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "Get User Notifications",
        "description": "Get notifications for the current user",
        "operationId": "get_user_notifications_api__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "unread_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Unread Only"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/unread-count": {
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "Get Unread Count",
        "description": "Get count of unread notifications for the current user",
        "operationId": "get_unread_count_api_unread_count_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/mark-read": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Mark Notification Read",
        "description": "Mark a notification as read (idempotent - safe to call multiple times)",
        "operationId": "mark_notification_read_api_mark_read_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationMarkReadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/mark-all-read": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Mark All Notifications Read",
        "description": "Mark all notifications as read for the current user",
        "operationId": "mark_all_notifications_read_api_mark_all_read_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/notifications/delete": {
      "post": {
        "tags": [
          "notifications"
        ],
        "summary": "Delete Notification",
        "description": "Soft delete a notification for the current user",
        "operationId": "delete_notification_api_notifications_delete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationDeleteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/admin/notifications/admin/users": {
      "get": {
        "tags": [
          "notifications"
        ],
        "summary": "Get Users For Notifications",
        "description": "Get list of users for notification targeting (Admin only)",
        "operationId": "get_users_for_notifications_api_admin_notifications_admin_users_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array",
                  "title": "Response Get Users For Notifications Api Admin Notifications Admin Users Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/ws/status": {
      "get": {
        "summary": "Websocket Status",
        "description": "Get WebSocket connection status (for debugging)",
        "operationId": "websocket_status_api_ws_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/subscription/low-minutes-check": {
      "get": {
        "summary": "Get Low Minutes Status",
        "description": "\ud83d\ude80 OPTIMIZED: API endpoint to check if current user has low remaining minutes with server-side caching\nReturns status and appropriate warning message",
        "operationId": "get_low_minutes_status_api_subscription_low_minutes_check_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/subscription/can-start-session": {
      "get": {
        "summary": "Check Can Start Session",
        "description": "Check if user can start a new session based on remaining minutes",
        "operationId": "check_can_start_session_api_subscription_can_start_session_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/health/ping": {
      "get": {
        "summary": "Health Ping",
        "description": "Ultra-lightweight health check endpoint\nReturns minimal response for connectivity verification",
        "operationId": "health_ping_api_health_ping_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "head": {
        "summary": "Health Ping",
        "description": "Ultra-lightweight health check endpoint\nReturns minimal response for connectivity verification",
        "operationId": "health_ping_api_health_ping_head",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health/status": {
      "get": {
        "summary": "Health Status",
        "description": "Detailed health status for debugging",
        "operationId": "health_status_api_health_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/share/generate-progress-image": {
      "post": {
        "tags": [
          "share"
        ],
        "summary": "Generate Progress Image",
        "description": "Generate a shareable progress image using OpenAI DALL-E 3",
        "operationId": "generate_progress_image_api_share_generate_progress_image_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShareProgressRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareProgressResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/share/proxy-image/{image_url}": {
      "get": {
        "tags": [
          "share"
        ],
        "summary": "Proxy Image",
        "description": "Proxy route to download images from external URLs (like OpenAI)\nThis avoids CORS issues and authentication problems",
        "operationId": "proxy_image_api_share_proxy_image__image_url__get",
        "parameters": [
          {
            "name": "image_url",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Image Url"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/share/download-image": {
      "post": {
        "tags": [
          "share"
        ],
        "summary": "Download Image",
        "description": "Download image from OpenAI URL to avoid CORS issues\nDEPRECATED: Use proxy-image route instead",
        "operationId": "download_image_api_share_download_image_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DownloadImageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/share/user-weeks": {
      "get": {
        "tags": [
          "share"
        ],
        "summary": "Get User Weeks",
        "description": "Get user's completed weeks for sharing\n- If learning_plan_id is provided: return weeks for THAT specific plan only\n- If no learning_plan_id: return aggregated weeks across ALL plans (global achievements)",
        "operationId": "get_user_weeks_api_share_user_weeks_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "learning_plan_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Learning Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/share/shorten-url": {
      "post": {
        "tags": [
          "share"
        ],
        "summary": "Shorten Url",
        "description": "Create a shortened URL for sharing (simple implementation)",
        "operationId": "shorten_url_api_share_shorten_url_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/share/sharing-stats": {
      "get": {
        "tags": [
          "share"
        ],
        "summary": "Get Sharing Stats",
        "description": "Get user's sharing statistics",
        "operationId": "get_sharing_stats_api_share_sharing_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/s/{url_hash}": {
      "get": {
        "tags": [
          "url_redirect"
        ],
        "summary": "Redirect Shortened Url",
        "description": "Redirect shortened URLs to their original destinations",
        "operationId": "redirect_shortened_url_s__url_hash__get",
        "parameters": [
          {
            "name": "url_hash",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Url Hash"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/voice/sample": {
      "post": {
        "summary": "Generate Voice Sample",
        "description": "Generate a voice sample using OpenAI's realtime API",
        "operationId": "generate_voice_sample_api_voice_sample_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VoiceSampleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/voice/characters": {
      "get": {
        "summary": "Get Voice Characters",
        "description": "Get all available voice characters with their descriptions",
        "operationId": "get_voice_characters_api_voice_characters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/conversation-help/generate": {
      "post": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Generate Help Content",
        "description": "Generate conversation help content based on AI tutor's response",
        "operationId": "generate_help_content_api_conversation_help_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationHelpRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationHelpResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversation-help/settings": {
      "get": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Get Help Settings",
        "description": "Get user's conversation help settings",
        "operationId": "get_help_settings_api_conversation_help_settings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserHelpSettings"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Update Help Settings",
        "description": "Update user's conversation help settings",
        "operationId": "update_help_settings_api_conversation_help_settings_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Settings"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/conversation-help/track-usage": {
      "post": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Track Help System Usage",
        "description": "Track help system usage for analytics",
        "operationId": "track_help_system_usage_api_conversation_help_track_usage_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Usage Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversation-help/complete-session": {
      "post": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Complete Conversation Session",
        "description": "CRITICAL FIX: Track session completion with proper duration and subscription usage\nThis endpoint should be called when a conversation session ends",
        "operationId": "complete_conversation_session_api_conversation_help_complete_session_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Session Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversation-help/analytics": {
      "get": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Get Help Analytics",
        "description": "Get help system usage analytics for the current user",
        "operationId": "get_help_analytics_api_conversation_help_analytics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/conversation-help/languages": {
      "get": {
        "tags": [
          "conversation-help"
        ],
        "summary": "Get Supported Help Languages",
        "description": "Get list of supported languages for help content",
        "operationId": "get_supported_help_languages_api_conversation_help_languages_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/session-heartbeat": {
      "post": {
        "tags": [
          "session"
        ],
        "summary": "Session Heartbeat",
        "description": "Handle session heartbeat from frontend\nThis endpoint receives periodic heartbeat signals from active sessions\n\ud83d\udd25 FIXED: Now properly saves sessions and deducts minutes when threshold is reached",
        "operationId": "session_heartbeat_api_session_heartbeat_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/consent/grant": {
      "post": {
        "tags": [
          "consent"
        ],
        "summary": "Grant Consent",
        "description": "Grant consent for data sharing with institution",
        "operationId": "grant_consent_consent_grant_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsentGrantRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Grant Consent Consent Grant Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/consent/revoke": {
      "post": {
        "tags": [
          "consent"
        ],
        "summary": "Revoke Consent",
        "description": "Revoke consent for data sharing",
        "operationId": "revoke_consent_consent_revoke_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsentRevokeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Revoke Consent Consent Revoke Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/consent/status/{learner_id}/{institution_id}": {
      "get": {
        "tags": [
          "consent"
        ],
        "summary": "Get Consent Status",
        "description": "Get consent status for a learner",
        "operationId": "get_consent_status_consent_status__learner_id___institution_id__get",
        "parameters": [
          {
            "name": "learner_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Learner Id"
            }
          },
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsentStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/signup": {
      "post": {
        "tags": [
          "institution"
        ],
        "summary": "Signup Institution",
        "description": "Register a new institution and admin account",
        "operationId": "signup_institution_institution_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstitutionSignupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstitutionSignupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/login": {
      "post": {
        "tags": [
          "institution"
        ],
        "summary": "Login Institution",
        "description": "Authenticate institution admin",
        "operationId": "login_institution_institution_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstitutionLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstitutionLoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/{institution_id}": {
      "get": {
        "tags": [
          "institution"
        ],
        "summary": "Get Institution",
        "description": "Get institution details",
        "operationId": "get_institution_institution__institution_id__get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Institution Institution  Institution Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/stats/{institution_id}": {
      "get": {
        "tags": [
          "institution"
        ],
        "summary": "Get Institution Stats",
        "description": "Get institution statistics",
        "operationId": "get_institution_stats_institution_stats__institution_id__get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Institution Stats Institution Stats  Institution Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/analytics/language-distribution": {
      "get": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Get Language Distribution",
        "description": "Get language distribution of learners in the institution",
        "operationId": "get_language_distribution_institution_dashboard__institution_id__analytics_language_distribution_get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Language Distribution Institution Dashboard  Institution Id  Analytics Language Distribution Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/analytics/level-distribution": {
      "get": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Get Level Distribution",
        "description": "Get proficiency level distribution of learners",
        "operationId": "get_level_distribution_institution_dashboard__institution_id__analytics_level_distribution_get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Level Distribution Institution Dashboard  Institution Id  Analytics Level Distribution Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/tutors": {
      "get": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Get Tutors",
        "description": "Get all tutors for an institution with their assigned learners (including inactive)\nOPTIMIZED: Uses aggregation pipeline to avoid N+1 queries",
        "operationId": "get_tutors_institution_dashboard__institution_id__tutors_get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Tutors Institution Dashboard  Institution Id  Tutors Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Add Tutor",
        "description": "Add a new tutor to the institution\nNEW: Now includes password field for tutor login",
        "operationId": "add_tutor_institution_dashboard__institution_id__tutors_post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Tutor Data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Add Tutor Institution Dashboard  Institution Id  Tutors Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/tutors/{tutor_id}": {
      "delete": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Remove Tutor",
        "description": "Remove/deactivate a tutor (DEPRECATED - use deactivate_tutor instead)",
        "operationId": "remove_tutor_institution_dashboard__institution_id__tutors__tutor_id__delete",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Remove Tutor Institution Dashboard  Institution Id  Tutors  Tutor Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/tutors/deactivate/{tutor_id}": {
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Deactivate Tutor",
        "description": "Deactivate a tutor and unassign all their learners\nThis is a reversible operation that:\n1. Marks the tutor as inactive (preserves account data)\n2. Unassigns all learners from this tutor (they become \"Unassigned\")\n3. Allows future reactivation",
        "operationId": "deactivate_tutor_institution_dashboard__institution_id__tutors_deactivate__tutor_id__post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Deactivate Tutor Institution Dashboard  Institution Id  Tutors Deactivate  Tutor Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/tutors/reactivate/{tutor_id}": {
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Reactivate Tutor",
        "description": "Reactivate a previously deactivated tutor",
        "operationId": "reactivate_tutor_institution_dashboard__institution_id__tutors_reactivate__tutor_id__post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Reactivate Tutor Institution Dashboard  Institution Id  Tutors Reactivate  Tutor Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/tutors/{tutor_id}/permissions": {
      "put": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Update Tutor Permissions",
        "description": "Update tutor permissions",
        "operationId": "update_tutor_permissions_institution_dashboard__institution_id__tutors__tutor_id__permissions_put",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Permissions"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Update Tutor Permissions Institution Dashboard  Institution Id  Tutors  Tutor Id  Permissions Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners": {
      "get": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Get Learners",
        "description": "Get all learners for an institution with progress data (including deactivated)\nOPTIMIZED: Uses aggregation pipeline to avoid N+1 queries",
        "operationId": "get_learners_institution_dashboard__institution_id__learners_get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Learners Institution Dashboard  Institution Id  Learners Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners/assign-tutor": {
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Assign Learner To Tutor",
        "description": "Assign a learner to a specific tutor",
        "operationId": "assign_learner_to_tutor_institution_dashboard__institution_id__learners_assign_tutor_post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Assignment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Assign Learner To Tutor Institution Dashboard  Institution Id  Learners Assign Tutor Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners/deactivate/{learner_id}": {
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Deactivate Learner",
        "description": "Deactivate/archive a learner (reversible operation)",
        "operationId": "deactivate_learner_institution_dashboard__institution_id__learners_deactivate__learner_id__post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "learner_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Learner Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Deactivate Learner Institution Dashboard  Institution Id  Learners Deactivate  Learner Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners/reactivate/{learner_id}": {
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Reactivate Learner",
        "description": "Reactivate a previously deactivated learner",
        "operationId": "reactivate_learner_institution_dashboard__institution_id__learners_reactivate__learner_id__post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "learner_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Learner Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Reactivate Learner Institution Dashboard  Institution Id  Learners Reactivate  Learner Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners/bulk-import": {
      "post": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Bulk Import Learners",
        "description": "Bulk import learners from CSV file\nExpected CSV format: name, email, language, level, tutor_email",
        "operationId": "bulk_import_learners_institution_dashboard__institution_id__learners_bulk_import_post",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_bulk_import_learners_institution_dashboard__institution_id__learners_bulk_import_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Bulk Import Learners Institution Dashboard  Institution Id  Learners Bulk Import Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners/{user_id}/comprehensive-details": {
      "get": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Get Comprehensive Learner Details",
        "description": "Get comprehensive learner analytics with AI-generated insights\nIncludes ALL learning plans, sessions, assessments, and recommendations",
        "operationId": "get_comprehensive_learner_details_institution_dashboard__institution_id__learners__user_id__comprehensive_details_get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Comprehensive Learner Details Institution Dashboard  Institution Id  Learners  User Id  Comprehensive Details Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/institution/dashboard/{institution_id}/learners/export": {
      "get": {
        "tags": [
          "institution-dashboard"
        ],
        "summary": "Export Learners",
        "description": "Export learner data as CSV format data",
        "operationId": "export_learners_institution_dashboard__institution_id__learners_export_get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Export Learners Institution Dashboard  Institution Id  Learners Export Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutors/invite": {
      "post": {
        "tags": [
          "tutors"
        ],
        "summary": "Invite Tutor",
        "operationId": "invite_tutor_tutors_invite_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorInviteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutors/accept-invite": {
      "post": {
        "tags": [
          "tutors"
        ],
        "summary": "Accept Invitation",
        "operationId": "accept_invitation_tutors_accept_invite_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorAcceptInviteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutors/institution/{institution_id}": {
      "get": {
        "tags": [
          "tutors"
        ],
        "summary": "Get Institution Tutors",
        "operationId": "get_institution_tutors_tutors_institution__institution_id__get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TutorResponse"
                  },
                  "title": "Response Get Institution Tutors Tutors Institution  Institution Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutor/login": {
      "post": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Tutor Login",
        "description": "Tutor login endpoint\n\nReturns JWT token and tutor information\nRejects if tutor is inactive or has no password set",
        "operationId": "tutor_login_tutor_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TutorLoginResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutor/change-password": {
      "post": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Change Password",
        "description": "Change tutor password\n\nValidates current password and updates to new password\nClears first_login flag",
        "operationId": "change_password_tutor_change_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Change Password Tutor Change Password Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/tutor/dashboard/{tutor_id}/learners": {
      "get": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Get Assigned Learners",
        "description": "Get all learners assigned to this tutor with progress data\n\nPHASE 1: Basic learner list\nPHASE 2: Advanced filtering by language, level, status, activity\n\nSecurity: Verifies tutor can only access their own learners",
        "operationId": "get_assigned_learners_tutor_dashboard__tutor_id__learners_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          },
          {
            "name": "language",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by language",
              "title": "Language"
            },
            "description": "Filter by language"
          },
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by proficiency level (A1-C2)",
              "title": "Level"
            },
            "description": "Filter by proficiency level (A1-C2)"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by progress status (on_track|at_risk|inactive)",
              "title": "Status"
            },
            "description": "Filter by progress status (on_track|at_risk|inactive)"
          },
          {
            "name": "last_activity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by last activity (today|week|month|1month|2months)",
              "title": "Last Activity"
            },
            "description": "Filter by last activity (today|week|month|1month|2months)"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or email",
              "title": "Search"
            },
            "description": "Search by name or email"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number (starts at 1)",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number (starts at 1)"
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Items per page (max 100)",
              "default": 10,
              "title": "Per Page"
            },
            "description": "Items per page (max 100)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Assigned Learners Tutor Dashboard  Tutor Id  Learners Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutor/dashboard/{tutor_id}/learner/{user_id}/details": {
      "get": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Get Learner Details",
        "description": "Get comprehensive learner details (respects consent_given)\n\nSecurity:\n- Verifies tutor_id matches authenticated tutor\n- Checks learner is assigned to this tutor\n- Respects consent_given field",
        "operationId": "get_learner_details_tutor_dashboard__tutor_id__learner__user_id__details_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Learner Details Tutor Dashboard  Tutor Id  Learner  User Id  Details Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutor/dashboard/{tutor_id}/analytics": {
      "get": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Get Tutor Analytics",
        "description": "Get tutor's personal statistics and analytics\n\nReturns overview of all assigned learners' progress",
        "operationId": "get_tutor_analytics_tutor_dashboard__tutor_id__analytics_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Tutor Analytics Tutor Dashboard  Tutor Id  Analytics Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutor/dashboard/{tutor_id}/reports/generate": {
      "post": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Generate Learner Report",
        "description": "Generate PDF report for a learner\n\nRequest body:\n{\n    \"learner_id\": \"user_id\",\n    \"sections\": [\"profile\", \"learning_plans\", \"assessment_results\", ...],\n    \"date_range\": {\"start\": \"2025-01-01\", \"end\": \"2025-10-05\"}\n}",
        "operationId": "generate_learner_report_tutor_dashboard__tutor_id__reports_generate_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Report Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Generate Learner Report Tutor Dashboard  Tutor Id  Reports Generate Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tutor/reports/{report_id}/download": {
      "get": {
        "tags": [
          "tutor-dashboard"
        ],
        "summary": "Download Report",
        "description": "Download generated PDF report\n\nReturns: PDF file stream (to be implemented)",
        "operationId": "download_report_tutor_reports__report_id__download_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "report_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Report Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Download Report Tutor Reports  Report Id  Download Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/learners/enroll": {
      "post": {
        "tags": [
          "learners"
        ],
        "summary": "Enroll Learner",
        "description": "Admin enrolls a learner (sends invitation)",
        "operationId": "enroll_learner_learners_enroll_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LearnerEnrollRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/learners/self-signup": {
      "post": {
        "tags": [
          "learners"
        ],
        "summary": "Self Signup",
        "description": "Learner signs up using institution code",
        "operationId": "self_signup_learners_self_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LearnerSelfSignupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearnerSelfSignupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/learners/tutor/{tutor_id}": {
      "get": {
        "tags": [
          "learners"
        ],
        "summary": "Get Tutor Learners",
        "description": "Get all learners assigned to a tutor",
        "operationId": "get_tutor_learners_learners_tutor__tutor_id__get",
        "parameters": [
          {
            "name": "tutor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Tutor Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/learners/institution/{institution_id}": {
      "get": {
        "tags": [
          "learners"
        ],
        "summary": "Get Institution Learners",
        "description": "Get all learners for an institution",
        "operationId": "get_institution_learners_learners_institution__institution_id__get",
        "parameters": [
          {
            "name": "institution_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Institution Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/activation_codes": {
      "post": {
        "tags": [
          "activation_codes"
        ],
        "summary": "Generate Activation Code",
        "description": "Generate new activation code for institution\n\n- **institution_name**: Name of the institution\n- **institution_type**: Type of institution\n- **is_trial**: Whether to start as trial\n- **trial_duration_days**: Trial duration (7-90 days) if is_trial=True\n- **target_plan**: Target subscription plan\n- **max_tutors**: Maximum number of tutors\n- **max_learners**: Maximum number of learners\n- **contract_id**: Contract ID (required if is_trial=False)\n- **notes**: Optional notes",
        "operationId": "generate_activation_code_api_admin_activation_codes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateActivationCodeRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Generate Activation Code Api Admin Activation Codes Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "activation_codes"
        ],
        "summary": "List Activation Codes",
        "description": "List all activation codes with pagination and filters\n\n- **page**: Page number (default: 1)\n- **per_page**: Items per page (default: 25)\n- **status_filter**: Filter by status (pending/active_trial/active_paid/expired/cancelled)\n- **is_trial**: Filter by trial status (true/false)\n- **institution_name**: Search by institution name",
        "operationId": "list_activation_codes_api_admin_activation_codes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 25,
              "title": "Per Page"
            }
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "is_trial",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Trial"
            }
          },
          {
            "name": "institution_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Institution Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response List Activation Codes Api Admin Activation Codes Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/activation_codes/{code_or_id}": {
      "get": {
        "tags": [
          "activation_codes"
        ],
        "summary": "Get Activation Code",
        "description": "Get single activation code details by activation code or MongoDB ID",
        "operationId": "get_activation_code_api_admin_activation_codes__code_or_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "code_or_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code Or Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Activation Code Api Admin Activation Codes  Code Or Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/activation_codes/{code}/convert-to-paid": {
      "put": {
        "tags": [
          "activation_codes"
        ],
        "summary": "Convert To Paid",
        "description": "Convert trial activation code to paid\nUpdates the SAME code, does not create a new one",
        "operationId": "convert_to_paid_api_admin_activation_codes__code__convert_to_paid_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConvertToPaidRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Convert To Paid Api Admin Activation Codes  Code  Convert To Paid Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/activation_codes/{code}/extend-trial": {
      "put": {
        "tags": [
          "activation_codes"
        ],
        "summary": "Extend Trial",
        "description": "Extend trial period for activation code",
        "operationId": "extend_trial_api_admin_activation_codes__code__extend_trial_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtendTrialRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Extend Trial Api Admin Activation Codes  Code  Extend Trial Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/activation_codes/{code}/regenerate": {
      "post": {
        "tags": [
          "activation_codes"
        ],
        "summary": "Regenerate Code",
        "description": "Generate NEW code (only if original expired and unused)",
        "operationId": "regenerate_code_api_admin_activation_codes__code__regenerate_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Regenerate Code Api Admin Activation Codes  Code  Regenerate Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/activation_codes/{code}": {
      "delete": {
        "tags": [
          "activation_codes"
        ],
        "summary": "Cancel Code",
        "description": "Cancel activation code (soft delete, status \u2192 cancelled)",
        "operationId": "cancel_code_api_admin_activation_codes__code__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Cancel Code Api Admin Activation Codes  Code  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/flashcards/generate": {
      "post": {
        "tags": [
          "flashcards"
        ],
        "summary": "Generate Flashcards",
        "description": "Generate AI-powered flashcards from a speaking session",
        "operationId": "generate_flashcards_api_flashcards_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlashcardGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlashcardSet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/flashcards/sets": {
      "get": {
        "tags": [
          "flashcards"
        ],
        "summary": "Get User Flashcard Sets",
        "description": "Get all flashcard sets for the current user",
        "operationId": "get_user_flashcard_sets_api_flashcards_sets_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/FlashcardSet"
                  },
                  "type": "array",
                  "title": "Response Get User Flashcard Sets Api Flashcards Sets Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/flashcards/set/{set_id}": {
      "get": {
        "tags": [
          "flashcards"
        ],
        "summary": "Get Flashcard Set",
        "description": "Get a specific flashcard set with all its flashcards",
        "operationId": "get_flashcard_set_api_flashcards_set__set_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Set Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlashcardSet"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "flashcards"
        ],
        "summary": "Delete Flashcard Set",
        "description": "Delete a flashcard set and all its associated flashcards",
        "operationId": "delete_flashcard_set_api_flashcards_set__set_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "set_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Set Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/flashcards/due": {
      "get": {
        "tags": [
          "flashcards"
        ],
        "summary": "Get Due Flashcards",
        "description": "Get flashcards that are due for review",
        "operationId": "get_due_flashcards_api_flashcards_due_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Flashcard"
                  },
                  "title": "Response Get Due Flashcards Api Flashcards Due Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/flashcards/review": {
      "post": {
        "tags": [
          "flashcards"
        ],
        "summary": "Review Flashcard",
        "description": "Update flashcard progress after review",
        "operationId": "review_flashcard_api_flashcards_review_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlashcardReviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/flashcards/progress": {
      "get": {
        "tags": [
          "flashcards"
        ],
        "summary": "Get Flashcard Progress",
        "description": "Get overall flashcard progress statistics",
        "operationId": "get_flashcard_progress_api_flashcards_progress_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlashcardProgress"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/flashcards/session/{session_id}": {
      "get": {
        "tags": [
          "flashcards"
        ],
        "summary": "Get Flashcards For Session",
        "description": "Get all flashcards for a specific session",
        "operationId": "get_flashcards_for_session_api_flashcards_session__session_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Flashcard"
                  },
                  "title": "Response Get Flashcards For Session Api Flashcards Session  Session Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/challenges/daily": {
      "get": {
        "tags": [
          "challenges"
        ],
        "summary": "Get Daily Challenges",
        "description": "Get 6 personalized daily challenges\n\nQuery Parameters:\n- language (optional): Target language (english, spanish, dutch, german, french, portuguese)\n- level (optional): CEFR level (A1, A2, B1, B2, C1, C2)\n\nIf not provided, falls back to user's active learning plan or profile preferences.\n\n- Returns cached challenges if available (24h cache)\n- Personalizes based on user's weak areas from flashcards/sessions\n- Marks challenges as completed if user finished them today",
        "operationId": "get_daily_challenges_api_challenges_daily_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Language"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Level"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/challenges/{challenge_id}/complete": {
      "post": {
        "tags": [
          "challenges"
        ],
        "summary": "Complete Challenge",
        "description": "Mark a challenge as completed\n\n- Tracks completion in user stats\n- Updates streak\n- Awards XP (optional for v1)",
        "operationId": "complete_challenge_api_challenges__challenge_id__complete_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "challenge_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Challenge Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChallengeCompletionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/challenges/stats": {
      "get": {
        "tags": [
          "challenges"
        ],
        "summary": "Get Challenge Stats",
        "description": "Get user's challenge statistics\n\nReturns:\n    - Total completed\n    - Current streak\n    - Completed today count\n    - Challenge history",
        "operationId": "get_challenge_stats_api_challenges_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/challenges/counts": {
      "get": {
        "tags": [
          "challenges"
        ],
        "summary": "Get Challenge Counts",
        "description": "Get available challenge counts per type for the user\n\nQuery Parameters:\n- language (optional): Target language (english, spanish, dutch, german, french, portuguese)\n- level (optional): CEFR level (A1, A2, B1, B2, C1, C2)\n- source (optional): Challenge source - 'reference' for Freestyle Practice (fast, no AI),\n                    'learning_plan' for personalized challenges (AI-generated),\n                    None for default behavior (backward compatible)\n\nIf not provided, falls back to user's active learning plan or profile preferences.\n\nAuto-handling:\n- New users: Instant copy from reference challenges\n- Low pool: Auto-replenishes with personalized AI challenges\n- Always ensures user has content",
        "operationId": "get_challenge_counts_api_challenges_counts_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Language"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Level"
            }
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChallengeCountsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/challenges/by-type/{challenge_type}": {
      "get": {
        "tags": [
          "challenges"
        ],
        "summary": "Get Challenges By Type",
        "description": "Get available challenges of a specific type\n\nPath Parameters:\n- challenge_type: Type of challenge (error_spotting, swipe_fix, etc.)\n\nQuery Parameters:\n- language (optional): Target language (english, spanish, dutch, german, french, portuguese)\n- level (optional): CEFR level (A1, A2, B1, B2, C1, C2)\n- limit: Maximum number of challenges to return (default 50)\n- source (optional): Challenge source - 'reference' for Freestyle Practice (fast, no AI),\n                    'learning_plan' for personalized challenges (AI-generated),\n                    None for default behavior (backward compatible)\n\nIf language/level not provided, falls back to user's active learning plan or profile preferences.\n\nReturns list of available challenges sorted by creation date",
        "operationId": "get_challenges_by_type_api_challenges_by_type__challenge_type__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "challenge_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Challenge Type"
            }
          },
          {
            "name": "language",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Language"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Level"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChallengesByTypeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/challenges/languages": {
      "get": {
        "tags": [
          "challenges"
        ],
        "summary": "Get Available Languages",
        "description": "Get list of all available languages and user's learning status\n\nQuery Parameters:\n- level (optional): CEFR level to check counts for (A1, A2, B1, B2, C1, C2)\n\nReturns:\n    List of languages with:\n    - Language name\n    - Whether user has active plan\n    - Challenge counts available (for specified or user's level)",
        "operationId": "get_available_languages_api_challenges_languages_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Level"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/achievements/unlock": {
      "post": {
        "summary": "Unlock Achievement",
        "description": "Unlock an achievement for the current user.",
        "operationId": "unlock_achievement_api_achievements_unlock_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AchievementUnlockRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/achievements": {
      "get": {
        "summary": "Get User Achievements",
        "description": "Get all achievements unlocked by the current user.",
        "operationId": "get_user_achievements_api_achievements_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAchievementsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/achievements/sessions/complete": {
      "post": {
        "summary": "Complete Challenge Session",
        "description": "Complete a challenge session and unlock achievements.\nCalled when user finishes a gamified challenge session.",
        "operationId": "complete_challenge_session_api_achievements_sessions_complete_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/achievements/available": {
      "get": {
        "summary": "Get Available Achievements",
        "description": "Get list of all available achievements (public endpoint).",
        "operationId": "get_available_achievements_api_achievements_available_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/progress/challenge-stats": {
      "get": {
        "tags": [
          "progress"
        ],
        "summary": "Get Challenge Progress",
        "description": "Get user's challenge completion statistics\n\nReturns:\n- completed_count: Total challenges completed for this language/level\n- completed_by_type: Dict of completed count per challenge type\n- total_available: Total challenges available (from reference)\n- progress_percentage: Overall progress percentage",
        "operationId": "get_challenge_progress_api_progress_challenge_stats_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Language"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Level"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stats/daily": {
      "get": {
        "tags": [
          "statistics"
        ],
        "summary": "Get Daily Stats",
        "description": "Get today's statistics for the current user.\n\nReturns:\n    - Overall stats (challenges, accuracy, XP, time)\n    - Breakdown by language, level, and challenge type\n    - Streak information",
        "operationId": "get_daily_stats_api_stats_daily_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "timezone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "User's timezone (e.g., 'America/New_York')",
              "title": "Timezone"
            },
            "description": "User's timezone (e.g., 'America/New_York')"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stats/recent": {
      "get": {
        "tags": [
          "statistics"
        ],
        "summary": "Get Recent Performance Endpoint",
        "description": "Get recent performance statistics (rolling window).\n\nReturns:\n    - Summary metrics (total challenges, average accuracy, XP, time)\n    - Insights (most/least practiced areas, improvement trend)\n    - Daily breakdown for charting\n    - Language and type distributions\n    - Level-wise performance rankings",
        "operationId": "get_recent_performance_endpoint_api_stats_recent_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 30,
              "minimum": 1,
              "description": "Number of days to look back",
              "default": 7,
              "title": "Days"
            },
            "description": "Number of days to look back"
          },
          {
            "name": "timezone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Timezone"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecentPerformanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stats/lifetime": {
      "get": {
        "tags": [
          "statistics"
        ],
        "summary": "Get Lifetime Progress Endpoint",
        "description": "Get lifetime progress and mastery statistics.\n\nReturns:\n    - Summary metrics (total challenges, XP, time, streaks)\n    - Language-specific progress with mastery percentages\n    - CEFR level mastery with star ratings\n    - Challenge type mastery with rankings\n    - Learning path recommendations\n    - Optional: Achievement history\n    - Milestone tracking",
        "operationId": "get_lifetime_progress_endpoint_api_stats_lifetime_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by language",
              "title": "Language"
            },
            "description": "Filter by language"
          },
          {
            "name": "include_achievements",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include achievement history",
              "default": false,
              "title": "Include Achievements"
            },
            "description": "Include achievement history"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LifetimeProgressResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/stats/all": {
      "get": {
        "tags": [
          "statistics"
        ],
        "summary": "Get All Stats",
        "description": "Get unified stats response (daily + recent + lifetime).\n\nThis endpoint is optimized for mobile apps to fetch all stats\nin a single request, reducing network overhead.\n\nReturns:\n    - Daily stats (today's progress)\n    - Recent performance (7-day rolling window)\n    - Lifetime progress (cumulative statistics)",
        "operationId": "get_all_stats_api_stats_all_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "timezone",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Timezone"
            }
          },
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 30,
              "minimum": 1,
              "description": "Days for recent performance",
              "default": 7,
              "title": "Days"
            },
            "description": "Days for recent performance"
          },
          {
            "name": "include_achievements",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include achievements in lifetime stats",
              "default": false,
              "title": "Include Achievements"
            },
            "description": "Include achievements in lifetime stats"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/test": {
      "get": {
        "summary": "Test Endpoint",
        "description": "Simple test endpoint to verify API is running",
        "operationId": "test_endpoint_api_test_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "summary": "Health Check",
        "description": "Minimal health check - only returns status and environment (no logging)\nSupports both /health and /api/health for compatibility",
        "operationId": "health_check_api_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Minimal health check - only returns status and environment (no logging)\nSupports both /health and /api/health for compatibility",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/mock-token": {
      "post": {
        "summary": "Generate Mock Token",
        "description": "Mock endpoint for testing when OpenAI API is not available.\nReturns a mock ephemeral token response that matches OpenAI's format.",
        "operationId": "generate_mock_token_api_mock_token_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/shorten-image": {
      "post": {
        "summary": "Shorten Openai Image",
        "description": "Download OpenAI image and return short URL",
        "operationId": "shorten_openai_image_api_shorten_image_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/img/{image_id}": {
      "get": {
        "summary": "Serve Image",
        "description": "Serve shortened image",
        "operationId": "serve_image_api_img__image_id__get",
        "parameters": [
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Image Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/cleanup-images": {
      "post": {
        "summary": "Cleanup Old Images",
        "description": "Remove images older than 24 hours",
        "operationId": "cleanup_old_images_api_cleanup_images_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/realtime/token": {
      "post": {
        "summary": "Generate Token",
        "operationId": "generate_token_api_realtime_token_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TutorSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/realtime/usage-log": {
      "post": {
        "summary": "Log Realtime Usage",
        "description": "Store realtime API usage data and calculate costs.\n\nPERFORMANCE OPTIMIZATION: Returns immediately while processing happens in background.\nResponse time reduced from 3,041ms to <100ms (97% faster).",
        "operationId": "log_realtime_usage_api_realtime_usage_log_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RealtimeUsageData"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/realtime/semantic-feedback": {
      "get": {
        "summary": "Get Semantic Feedback Monitoring",
        "description": "Monitor semantic VAD feedback incidents and conversation quality metrics\nProvides debugging information for semantic VAD issues",
        "operationId": "get_semantic_feedback_monitoring_api_realtime_semantic_feedback_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/realtime/model-config": {
      "get": {
        "summary": "Get Model Config",
        "description": "Get the current OpenAI Realtime API model configuration",
        "operationId": "get_model_config_api_realtime_model_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/summarize": {
      "post": {
        "summary": "Summarize Conversation",
        "description": "Summarize conversation transcript using gpt-4o-mini for cost efficiency.\nUsed to reduce cached token usage in OpenAI Realtime API.",
        "operationId": "summarize_conversation_api_summarize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SummarizeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/custom-topic/research": {
      "post": {
        "summary": "Research Custom Topic",
        "description": "Research a custom topic using OpenAI's web search capabilities with gpt-4o-search-preview",
        "operationId": "research_custom_topic_api_custom_topic_research_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomTopicRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/subscribe": {
      "post": {
        "summary": "Subscribe To Newsletter",
        "description": "Subscribe user to newsletter - stores email in MongoDB",
        "operationId": "subscribe_to_newsletter_api_subscribe_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubscriptionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/feedback/sentence-analysis": {
      "post": {
        "summary": "Submit Sentence Analysis Feedback",
        "description": "Store user feedback about sentence analysis decisions",
        "operationId": "submit_sentence_analysis_feedback_api_feedback_sentence_analysis_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SentenceAnalysisFeedback"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning/session-summary": {
      "post": {
        "summary": "Store Session Summary",
        "description": "Store comprehensive conversation analysis summary for a learning plan session",
        "operationId": "store_session_summary_api_learning_session_summary_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/sentence/assess": {
      "post": {
        "summary": "Assess Sentence Construction",
        "operationId": "assess_sentence_construction_api_sentence_assess_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SentenceAssessmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SentenceAssessmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/speaking/assess": {
      "post": {
        "summary": "Assess Speaking",
        "operationId": "assess_speaking_api_speaking_assess_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SpeakingAssessmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SpeakingAssessmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/speaking/prompts": {
      "get": {
        "summary": "Get Speaking Prompts",
        "operationId": "get_speaking_prompts_api_speaking_prompts_get",
        "parameters": [
          {
            "name": "language",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Language"
            }
          },
          {
            "name": "level",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Level"
            }
          },
          {
            "name": "count",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 3,
              "title": "Count"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/sentence/evaluate": {
      "post": {
        "summary": "Evaluate Sentence For Analysis",
        "description": "Evaluate whether a sentence is substantial enough for analysis.\nThis endpoint is used by the frontend to determine if background analysis should be triggered.",
        "operationId": "evaluate_sentence_for_analysis_api_sentence_evaluate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SentenceEvaluationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SentenceEvaluationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/sentence/background-analyze": {
      "post": {
        "summary": "Perform Background Sentence Analysis",
        "description": "Perform background sentence analysis without interrupting the conversation.\nThis endpoint analyzes the sentence and returns detailed assessment results.",
        "operationId": "perform_background_sentence_analysis_api_sentence_background_analyze_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BackgroundAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackgroundAnalysisResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/sentence/process-background": {
      "post": {
        "summary": "Process Sentence Background",
        "description": "Complete background sentence processing pipeline.\nEvaluates if sentence should be analyzed, and if so, performs the analysis.\nReturns None if sentence doesn't warrant analysis, otherwise returns analysis results.",
        "operationId": "process_sentence_background_api_sentence_process_background_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BackgroundAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/transcription/status": {
      "get": {
        "summary": "Get Transcription Status",
        "description": "Monitor transcription model configuration and usage",
        "operationId": "get_transcription_status_api_transcription_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/guest/analyze-session": {
      "post": {
        "summary": "Analyze Guest Session",
        "description": "Analyze a guest user's practice session WITHOUT saving to database.\nReturns sentence analyses, summary, stats, and insights for mobile app display.",
        "operationId": "analyze_guest_session_api_guest_analyze_session_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GuestSessionAnalysisRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/guest/quick-stats": {
      "post": {
        "summary": "Get Guest Quick Stats",
        "description": "Quick endpoint to get just stats without full analysis.\nUseful for showing immediate feedback during/after session.",
        "operationId": "get_guest_quick_stats_api_guest_quick_stats_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/learning-plans/{plan_id}/final-assessment-status": {
      "get": {
        "summary": "Get Final Assessment Status",
        "description": "Check if user needs to take final assessment for their learning plan.\n\nReturns assessment status, last attempt info, and whether user can retry.",
        "operationId": "get_final_assessment_status_api_learning_plans__plan_id__final_assessment_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinalAssessmentStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning-plans/{plan_id}/final-assessment-requirements": {
      "get": {
        "summary": "Get Final Assessment Requirements",
        "description": "Get the assessment requirements for a learning plan.\n\nReturns duration, focus areas, and instructions based on current level and plan goals.",
        "operationId": "get_final_assessment_requirements_api_learning_plans__plan_id__final_assessment_requirements_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinalAssessmentRequirementsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning-plans/{plan_id}/final-assessment": {
      "post": {
        "summary": "Submit Final Assessment",
        "description": "Submit and evaluate final assessment for a learning plan.\n\nIMPORTANT: Final assessments DO NOT count toward subscription limits.\n\nEvaluates with dual criteria:\n1. Current level mastery (must >= 75)\n2. Next level readiness (must >= 70)\n\nBoth must pass for user to advance to next level.",
        "operationId": "submit_final_assessment_api_learning_plans__plan_id__final_assessment_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinalAssessmentSubmitRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinalAssessmentResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning-plans/{plan_id}/next-level-suggestion": {
      "get": {
        "summary": "Get Next Level Plan Suggestion",
        "description": "Get auto-generated suggestion for next level learning plan.\n\nThis is called after user passes final assessment.\nUser can review and customize before confirming.",
        "operationId": "get_next_level_plan_suggestion_api_learning_plans__plan_id__next_level_suggestion_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NextLevelPlanSuggestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/learning-plans/create-next-level": {
      "post": {
        "summary": "Create Next Level Plan",
        "description": "Create next level learning plan after passing final assessment.\n\nUser can customize duration, goals before creating.\nThis uses the existing learning plan creation logic.",
        "operationId": "create_next_level_plan_api_learning_plans_create_next_level_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNextLevelPlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AchievementUnlockRequest": {
        "properties": {
          "achievement_id": {
            "type": "string",
            "title": "Achievement Id"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          }
        },
        "type": "object",
        "required": [
          "achievement_id"
        ],
        "title": "AchievementUnlockRequest"
      },
      "AdminLoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "AdminLoginRequest"
      },
      "AdminLoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type"
          },
          "user": {
            "$ref": "#/components/schemas/AdminUser"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "token_type",
          "user"
        ],
        "title": "AdminLoginResponse"
      },
      "AdminUser": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "default": "admin"
          },
          "permissions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Permissions",
            "default": [
              "read:users",
              "write:users",
              "read:analytics"
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name"
        ],
        "title": "AdminUser"
      },
      "BackgroundAnalysisRequest": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "exercise_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise Type",
            "default": "free"
          },
          "conversation_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Context"
          }
        },
        "type": "object",
        "required": [
          "text",
          "language",
          "level"
        ],
        "title": "BackgroundAnalysisRequest"
      },
      "BackgroundAnalysisResponse": {
        "properties": {
          "analysis_id": {
            "type": "string",
            "title": "Analysis Id"
          },
          "recognized_text": {
            "type": "string",
            "title": "Recognized Text"
          },
          "grammatical_score": {
            "type": "number",
            "title": "Grammatical Score"
          },
          "vocabulary_score": {
            "type": "number",
            "title": "Vocabulary Score"
          },
          "complexity_score": {
            "type": "number",
            "title": "Complexity Score"
          },
          "appropriateness_score": {
            "type": "number",
            "title": "Appropriateness Score"
          },
          "overall_score": {
            "type": "number",
            "title": "Overall Score"
          },
          "grammar_issues": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Grammar Issues"
          },
          "improvement_suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Improvement Suggestions"
          },
          "corrected_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Corrected Text"
          },
          "level_appropriate_alternatives": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Level Appropriate Alternatives"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "analysis_id",
          "recognized_text",
          "grammatical_score",
          "vocabulary_score",
          "complexity_score",
          "appropriateness_score",
          "overall_score",
          "grammar_issues",
          "improvement_suggestions",
          "timestamp"
        ],
        "title": "BackgroundAnalysisResponse"
      },
      "Body_bulk_import_learners_institution_dashboard__institution_id__learners_bulk_import_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_bulk_import_learners_institution_dashboard__institution_id__learners_bulk_import_post"
      },
      "Body_login_for_access_token_api_auth_token_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "password"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_for_access_token_api_auth_token_post"
      },
      "ChallengeCompletionRequest": {
        "properties": {
          "challenge_id": {
            "type": "string",
            "title": "Challenge Id"
          },
          "correct": {
            "type": "boolean",
            "title": "Correct"
          },
          "time_spent": {
            "type": "integer",
            "title": "Time Spent"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Level"
          },
          "challenge_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Challenge Type"
          }
        },
        "type": "object",
        "required": [
          "challenge_id",
          "correct",
          "time_spent"
        ],
        "title": "ChallengeCompletionRequest"
      },
      "ChallengeCountsResponse": {
        "properties": {
          "error_spotting": {
            "type": "integer",
            "title": "Error Spotting"
          },
          "swipe_fix": {
            "type": "integer",
            "title": "Swipe Fix"
          },
          "micro_quiz": {
            "type": "integer",
            "title": "Micro Quiz"
          },
          "smart_flashcard": {
            "type": "integer",
            "title": "Smart Flashcard"
          },
          "native_check": {
            "type": "integer",
            "title": "Native Check"
          },
          "brain_tickler": {
            "type": "integer",
            "title": "Brain Tickler"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "error_spotting",
          "swipe_fix",
          "micro_quiz",
          "smart_flashcard",
          "native_check",
          "brain_tickler",
          "total"
        ],
        "title": "ChallengeCountsResponse"
      },
      "ChallengesByTypeResponse": {
        "properties": {
          "challenges": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Challenges"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "type": {
            "type": "string",
            "title": "Type"
          }
        },
        "type": "object",
        "required": [
          "challenges",
          "total",
          "type"
        ],
        "title": "ChallengesByTypeResponse"
      },
      "ConsentGrantRequest": {
        "properties": {
          "learner_id": {
            "type": "string",
            "title": "Learner Id"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "tutor_id": {
            "type": "string",
            "title": "Tutor Id"
          },
          "ip_address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ip Address"
          },
          "user_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Agent"
          }
        },
        "type": "object",
        "required": [
          "learner_id",
          "institution_id",
          "tutor_id"
        ],
        "title": "ConsentGrantRequest",
        "description": "Schema for granting consent"
      },
      "ConsentRevokeRequest": {
        "properties": {
          "learner_id": {
            "type": "string",
            "title": "Learner Id"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "learner_id",
          "institution_id"
        ],
        "title": "ConsentRevokeRequest",
        "description": "Schema for revoking consent"
      },
      "ConsentStatusResponse": {
        "properties": {
          "has_consent": {
            "type": "boolean",
            "title": "Has Consent"
          },
          "consent_given_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Consent Given Date"
          },
          "consent_revoked": {
            "type": "boolean",
            "title": "Consent Revoked",
            "default": false
          },
          "institution_name": {
            "type": "string",
            "title": "Institution Name"
          },
          "tutor_name": {
            "type": "string",
            "title": "Tutor Name"
          },
          "data_shared": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Data Shared"
          }
        },
        "type": "object",
        "required": [
          "has_consent",
          "institution_name",
          "tutor_name",
          "data_shared"
        ],
        "title": "ConsentStatusResponse",
        "description": "Schema for consent status"
      },
      "ContextualChatRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "user_context": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Context"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ContextualChatRequest"
      },
      "ContextualChatResponse": {
        "properties": {
          "response": {
            "type": "string",
            "title": "Response"
          },
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "default": []
          },
          "similarity_scores": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Similarity Scores",
            "default": []
          },
          "user_context_used": {
            "type": "boolean",
            "title": "User Context Used",
            "default": false
          },
          "personalized_suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Personalized Suggestions",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "response"
        ],
        "title": "ContextualChatResponse"
      },
      "ConversationHelpRequest": {
        "properties": {
          "ai_response": {
            "type": "string",
            "title": "Ai Response"
          },
          "conversation_context": {
            "items": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "type": "array",
            "title": "Conversation Context"
          },
          "target_language": {
            "type": "string",
            "title": "Target Language"
          },
          "user_language": {
            "type": "string",
            "title": "User Language"
          },
          "proficiency_level": {
            "type": "string",
            "title": "Proficiency Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          }
        },
        "type": "object",
        "required": [
          "ai_response",
          "conversation_context",
          "target_language",
          "user_language",
          "proficiency_level"
        ],
        "title": "ConversationHelpRequest"
      },
      "ConversationHelpResponse": {
        "properties": {
          "ai_response_summary": {
            "type": "string",
            "title": "Ai Response Summary"
          },
          "suggested_responses": {
            "items": {
              "$ref": "#/components/schemas/SuggestedResponse"
            },
            "type": "array",
            "title": "Suggested Responses"
          },
          "vocabulary_highlights": {
            "items": {
              "$ref": "#/components/schemas/VocabularyItem"
            },
            "type": "array",
            "title": "Vocabulary Highlights"
          },
          "grammar_tips": {
            "items": {
              "$ref": "#/components/schemas/GrammarTip"
            },
            "type": "array",
            "title": "Grammar Tips"
          },
          "cultural_context": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CulturalNote"
              },
              {
                "type": "null"
              }
            ]
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          }
        },
        "type": "object",
        "required": [
          "ai_response_summary",
          "suggested_responses",
          "vocabulary_highlights",
          "grammar_tips"
        ],
        "title": "ConversationHelpResponse"
      },
      "ConvertToPaidRequest": {
        "properties": {
          "contract_id": {
            "type": "string",
            "minLength": 1,
            "title": "Contract Id"
          },
          "subscription_plan": {
            "type": "string",
            "enum": [
              "starter",
              "professional",
              "enterprise"
            ],
            "title": "Subscription Plan"
          }
        },
        "type": "object",
        "required": [
          "contract_id",
          "subscription_plan"
        ],
        "title": "ConvertToPaidRequest"
      },
      "CreateNextLevelPlanRequest": {
        "properties": {
          "current_plan_id": {
            "type": "string",
            "title": "Current Plan Id"
          },
          "duration_months": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Months"
          },
          "goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Goals"
          },
          "custom_goal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Goal"
          }
        },
        "type": "object",
        "required": [
          "current_plan_id"
        ],
        "title": "CreateNextLevelPlanRequest"
      },
      "CulturalNote": {
        "properties": {
          "context": {
            "type": "string",
            "title": "Context"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation"
          },
          "relevance": {
            "type": "string",
            "title": "Relevance"
          }
        },
        "type": "object",
        "required": [
          "context",
          "explanation",
          "relevance"
        ],
        "title": "CulturalNote"
      },
      "CustomTopicRequest": {
        "properties": {
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "voice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Voice",
            "default": "alloy"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "user_prompt": {
            "type": "string",
            "title": "User Prompt"
          }
        },
        "type": "object",
        "required": [
          "language",
          "level",
          "user_prompt"
        ],
        "title": "CustomTopicRequest"
      },
      "DailyBreakdownItem": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "challenges": {
            "type": "integer",
            "title": "Challenges"
          },
          "accuracy": {
            "type": "number",
            "title": "Accuracy"
          },
          "xp": {
            "type": "integer",
            "title": "Xp"
          },
          "time_minutes": {
            "type": "number",
            "title": "Time Minutes"
          },
          "sessions": {
            "type": "integer",
            "title": "Sessions"
          }
        },
        "type": "object",
        "required": [
          "date",
          "challenges",
          "accuracy",
          "xp",
          "time_minutes",
          "sessions"
        ],
        "title": "DailyBreakdownItem"
      },
      "DailyStatsBreakdown": {
        "properties": {
          "challenges": {
            "type": "integer",
            "title": "Challenges",
            "default": 0
          },
          "correct": {
            "type": "integer",
            "title": "Correct",
            "default": 0
          },
          "incorrect": {
            "type": "integer",
            "title": "Incorrect",
            "default": 0
          },
          "accuracy": {
            "type": "number",
            "title": "Accuracy",
            "default": 0.0
          },
          "xp": {
            "type": "integer",
            "title": "Xp",
            "default": 0
          }
        },
        "type": "object",
        "title": "DailyStatsBreakdown",
        "description": "Breakdown of stats by language/level/type"
      },
      "DailyStatsOverall": {
        "properties": {
          "total_sessions": {
            "type": "integer",
            "title": "Total Sessions"
          },
          "total_challenges": {
            "type": "integer",
            "title": "Total Challenges"
          },
          "correct": {
            "type": "integer",
            "title": "Correct"
          },
          "incorrect": {
            "type": "integer",
            "title": "Incorrect"
          },
          "accuracy": {
            "type": "number",
            "title": "Accuracy"
          },
          "total_xp": {
            "type": "integer",
            "title": "Total Xp"
          },
          "time_minutes": {
            "type": "number",
            "title": "Time Minutes"
          }
        },
        "type": "object",
        "required": [
          "total_sessions",
          "total_challenges",
          "correct",
          "incorrect",
          "accuracy",
          "total_xp",
          "time_minutes"
        ],
        "title": "DailyStatsOverall"
      },
      "DailyStatsResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "default": true
          },
          "date": {
            "type": "string",
            "title": "Date"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone"
          },
          "overall": {
            "$ref": "#/components/schemas/DailyStatsOverall"
          },
          "by_language": {
            "additionalProperties": {
              "$ref": "#/components/schemas/DailyStatsBreakdown"
            },
            "type": "object",
            "title": "By Language"
          },
          "by_level": {
            "additionalProperties": {
              "$ref": "#/components/schemas/DailyStatsBreakdown"
            },
            "type": "object",
            "title": "By Level"
          },
          "by_type": {
            "additionalProperties": {
              "$ref": "#/components/schemas/DailyStatsBreakdown"
            },
            "type": "object",
            "title": "By Type"
          },
          "streak": {
            "$ref": "#/components/schemas/StreakInfo"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "date",
          "timezone",
          "overall",
          "by_language",
          "by_level",
          "by_type",
          "streak",
          "metadata"
        ],
        "title": "DailyStatsResponse"
      },
      "DashboardMetrics": {
        "properties": {
          "total_users": {
            "type": "integer",
            "title": "Total Users"
          },
          "active_users": {
            "type": "integer",
            "title": "Active Users"
          },
          "verified_users": {
            "type": "integer",
            "title": "Verified Users"
          },
          "total_conversations": {
            "type": "integer",
            "title": "Total Conversations"
          },
          "total_assessments": {
            "type": "integer",
            "title": "Total Assessments"
          },
          "total_learning_plans": {
            "type": "integer",
            "title": "Total Learning Plans"
          }
        },
        "type": "object",
        "required": [
          "total_users",
          "active_users",
          "verified_users",
          "total_conversations",
          "total_assessments",
          "total_learning_plans"
        ],
        "title": "DashboardMetrics"
      },
      "DownloadImageRequest": {
        "properties": {
          "image_url": {
            "type": "string",
            "title": "Image Url"
          }
        },
        "type": "object",
        "required": [
          "image_url"
        ],
        "title": "DownloadImageRequest"
      },
      "EmailCheckRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "EmailCheckRequest"
      },
      "EmailVerificationConfirm": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token"
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "EmailVerificationConfirm"
      },
      "ExtendTrialRequest": {
        "properties": {
          "additional_days": {
            "type": "integer",
            "maximum": 60.0,
            "minimum": 1.0,
            "title": "Additional Days"
          }
        },
        "type": "object",
        "required": [
          "additional_days"
        ],
        "title": "ExtendTrialRequest"
      },
      "FinalAssessmentRequirementsResponse": {
        "properties": {
          "learning_plan_id": {
            "type": "string",
            "title": "Learning Plan Id"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "current_level": {
            "type": "string",
            "title": "Current Level"
          },
          "next_level": {
            "type": "string",
            "title": "Next Level"
          },
          "minimum_duration_minutes": {
            "type": "integer",
            "title": "Minimum Duration Minutes"
          },
          "goals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Goals"
          },
          "focus_areas": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Focus Areas"
          },
          "assessment_type": {
            "type": "string",
            "title": "Assessment Type"
          },
          "instructions": {
            "type": "string",
            "title": "Instructions"
          },
          "attempts_made": {
            "type": "integer",
            "title": "Attempts Made"
          }
        },
        "type": "object",
        "required": [
          "learning_plan_id",
          "language",
          "current_level",
          "next_level",
          "minimum_duration_minutes",
          "goals",
          "focus_areas",
          "assessment_type",
          "instructions",
          "attempts_made"
        ],
        "title": "FinalAssessmentRequirementsResponse"
      },
      "FinalAssessmentResultResponse": {
        "properties": {
          "passed": {
            "type": "boolean",
            "title": "Passed"
          },
          "current_level": {
            "type": "string",
            "title": "Current Level"
          },
          "next_level": {
            "type": "string",
            "title": "Next Level"
          },
          "overall_score": {
            "type": "integer",
            "title": "Overall Score"
          },
          "current_level_mastery": {
            "type": "object",
            "title": "Current Level Mastery"
          },
          "next_level_readiness": {
            "type": "object",
            "title": "Next Level Readiness"
          },
          "skills": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Skills"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "strengths": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Strengths"
          },
          "areas_for_improvement": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Areas For Improvement"
          },
          "next_steps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Next Steps"
          },
          "attempt_number": {
            "type": "integer",
            "title": "Attempt Number"
          }
        },
        "type": "object",
        "required": [
          "passed",
          "current_level",
          "next_level",
          "overall_score",
          "current_level_mastery",
          "next_level_readiness",
          "skills",
          "recommendation",
          "message",
          "strengths",
          "areas_for_improvement",
          "next_steps",
          "attempt_number"
        ],
        "title": "FinalAssessmentResultResponse"
      },
      "FinalAssessmentStatusResponse": {
        "properties": {
          "required": {
            "type": "boolean",
            "title": "Required"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "all_sessions_completed": {
            "type": "boolean",
            "title": "All Sessions Completed"
          },
          "completed_sessions": {
            "type": "integer",
            "title": "Completed Sessions"
          },
          "total_sessions": {
            "type": "integer",
            "title": "Total Sessions"
          },
          "last_attempt": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Attempt"
          },
          "can_retry": {
            "type": "boolean",
            "title": "Can Retry"
          },
          "attempts_count": {
            "type": "integer",
            "title": "Attempts Count"
          },
          "passed": {
            "type": "boolean",
            "title": "Passed"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "required",
          "status",
          "all_sessions_completed",
          "completed_sessions",
          "total_sessions",
          "can_retry",
          "attempts_count",
          "passed",
          "message"
        ],
        "title": "FinalAssessmentStatusResponse"
      },
      "FinalAssessmentSubmitRequest": {
        "properties": {
          "audio_base64": {
            "type": "string",
            "title": "Audio Base64"
          },
          "duration": {
            "type": "integer",
            "title": "Duration"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt"
          }
        },
        "type": "object",
        "required": [
          "audio_base64",
          "duration"
        ],
        "title": "FinalAssessmentSubmitRequest"
      },
      "Flashcard": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "front": {
            "type": "string",
            "title": "Front"
          },
          "back": {
            "type": "string",
            "title": "Back"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "difficulty": {
            "type": "string",
            "title": "Difficulty"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_reviewed": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Reviewed"
          },
          "review_count": {
            "type": "integer",
            "title": "Review Count",
            "default": 0
          },
          "correct_count": {
            "type": "integer",
            "title": "Correct Count",
            "default": 0
          },
          "incorrect_count": {
            "type": "integer",
            "title": "Incorrect Count",
            "default": 0
          },
          "mastery_level": {
            "type": "number",
            "title": "Mastery Level",
            "default": 0.0
          },
          "next_review_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Review Date"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "id",
          "session_id",
          "user_id",
          "language",
          "level",
          "front",
          "back",
          "category",
          "difficulty"
        ],
        "title": "Flashcard"
      },
      "FlashcardGenerationRequest": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "conversation_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Content"
          },
          "session_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Summary"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "default": 5
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "language",
          "level"
        ],
        "title": "FlashcardGenerationRequest"
      },
      "FlashcardProgress": {
        "properties": {
          "total_cards": {
            "type": "integer",
            "title": "Total Cards"
          },
          "reviewed_today": {
            "type": "integer",
            "title": "Reviewed Today"
          },
          "due_today": {
            "type": "integer",
            "title": "Due Today"
          },
          "mastered_cards": {
            "type": "integer",
            "title": "Mastered Cards"
          },
          "average_mastery": {
            "type": "number",
            "title": "Average Mastery"
          }
        },
        "type": "object",
        "required": [
          "total_cards",
          "reviewed_today",
          "due_today",
          "mastered_cards",
          "average_mastery"
        ],
        "title": "FlashcardProgress"
      },
      "FlashcardReviewRequest": {
        "properties": {
          "flashcard_id": {
            "type": "string",
            "title": "Flashcard Id"
          },
          "correct": {
            "type": "boolean",
            "title": "Correct"
          }
        },
        "type": "object",
        "required": [
          "flashcard_id",
          "correct"
        ],
        "title": "FlashcardReviewRequest"
      },
      "FlashcardSet": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "flashcards": {
            "items": {
              "$ref": "#/components/schemas/Flashcard"
            },
            "type": "array",
            "title": "Flashcards"
          },
          "total_cards": {
            "type": "integer",
            "title": "Total Cards"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "is_completed": {
            "type": "boolean",
            "title": "Is Completed",
            "default": false
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "session_id",
          "user_id",
          "language",
          "level",
          "title",
          "description",
          "flashcards",
          "total_cards"
        ],
        "title": "FlashcardSet"
      },
      "GenerateActivationCodeRequest": {
        "properties": {
          "institution_name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 2,
            "title": "Institution Name"
          },
          "institution_email": {
            "type": "string",
            "maxLength": 200,
            "minLength": 5,
            "title": "Institution Email"
          },
          "institution_type": {
            "type": "string",
            "enum": [
              "School",
              "University",
              "Language Center",
              "Corporate"
            ],
            "title": "Institution Type"
          },
          "is_trial": {
            "type": "boolean",
            "title": "Is Trial",
            "default": true
          },
          "trial_duration_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 90.0,
                "minimum": 7.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Trial Duration Days"
          },
          "target_plan": {
            "type": "string",
            "enum": [
              "starter",
              "professional",
              "enterprise"
            ],
            "title": "Target Plan",
            "default": "professional"
          },
          "max_tutors": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Max Tutors"
          },
          "max_learners": {
            "type": "integer",
            "exclusiveMinimum": 0.0,
            "title": "Max Learners"
          },
          "contract_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contract Id"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "institution_name",
          "institution_email",
          "institution_type",
          "max_tutors",
          "max_learners"
        ],
        "title": "GenerateActivationCodeRequest"
      },
      "GoogleLoginRequest": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token"
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "GoogleLoginRequest"
      },
      "GrammarIssue": {
        "properties": {
          "issue_type": {
            "type": "string",
            "title": "Issue Type"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "suggestion": {
            "type": "string",
            "title": "Suggestion"
          },
          "severity": {
            "type": "string",
            "title": "Severity"
          }
        },
        "type": "object",
        "required": [
          "issue_type",
          "description",
          "suggestion",
          "severity"
        ],
        "title": "GrammarIssue"
      },
      "GrammarTip": {
        "properties": {
          "pattern": {
            "type": "string",
            "title": "Pattern"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation"
          },
          "example": {
            "type": "string",
            "title": "Example"
          },
          "difficulty_level": {
            "type": "string",
            "title": "Difficulty Level"
          }
        },
        "type": "object",
        "required": [
          "pattern",
          "explanation",
          "example",
          "difficulty_level"
        ],
        "title": "GrammarTip"
      },
      "GuestMessage": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "GuestMessage"
      },
      "GuestSentence": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "messageIndex": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Messageindex"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "GuestSentence"
      },
      "GuestSessionAnalysisRequest": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/GuestMessage"
            },
            "type": "array",
            "title": "Messages"
          },
          "duration_minutes": {
            "type": "number",
            "title": "Duration Minutes"
          },
          "sentences_for_analysis": {
            "items": {
              "$ref": "#/components/schemas/GuestSentence"
            },
            "type": "array",
            "title": "Sentences For Analysis"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          }
        },
        "type": "object",
        "required": [
          "messages",
          "duration_minutes",
          "sentences_for_analysis",
          "language",
          "level"
        ],
        "title": "GuestSessionAnalysisRequest"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InstitutionLoginRequest": {
        "properties": {
          "admin_email": {
            "type": "string",
            "format": "email",
            "title": "Admin Email"
          },
          "password": {
            "type": "string",
            "maxLength": 72,
            "title": "Password",
            "description": "Password max 72 characters (bcrypt limit)"
          }
        },
        "type": "object",
        "required": [
          "admin_email",
          "password"
        ],
        "title": "InstitutionLoginRequest",
        "description": "Schema for admin login"
      },
      "InstitutionLoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "institution_name": {
            "type": "string",
            "title": "Institution Name"
          },
          "admin_email": {
            "type": "string",
            "title": "Admin Email"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "token_type",
          "institution_id",
          "institution_name",
          "admin_email"
        ],
        "title": "InstitutionLoginResponse",
        "description": "Response after successful login"
      },
      "InstitutionSignupRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 2,
            "title": "Name"
          },
          "institution_type": {
            "type": "string",
            "title": "Institution Type",
            "default": "school"
          },
          "admin_email": {
            "type": "string",
            "format": "email",
            "title": "Admin Email"
          },
          "admin_password": {
            "type": "string",
            "maxLength": 72,
            "minLength": 8,
            "title": "Admin Password",
            "description": "Password must be between 8-72 characters (bcrypt limit)"
          },
          "admin_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 2,
            "title": "Admin Name"
          },
          "activation_code": {
            "type": "string",
            "minLength": 1,
            "title": "Activation Code",
            "description": "Activation code received via email"
          },
          "subscription_plan": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Plan",
            "default": "starter"
          }
        },
        "type": "object",
        "required": [
          "name",
          "admin_email",
          "admin_password",
          "admin_name",
          "activation_code"
        ],
        "title": "InstitutionSignupRequest",
        "description": "Schema for institution signup"
      },
      "InstitutionSignupResponse": {
        "properties": {
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "institution_code": {
            "type": "string",
            "title": "Institution Code"
          },
          "admin_email": {
            "type": "string",
            "title": "Admin Email"
          },
          "subscription_plan": {
            "type": "string",
            "title": "Subscription Plan"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "institution_id",
          "institution_code",
          "admin_email",
          "subscription_plan",
          "message"
        ],
        "title": "InstitutionSignupResponse",
        "description": "Response after successful signup"
      },
      "LanguageDistribution": {
        "properties": {
          "challenges": {
            "type": "integer",
            "title": "Challenges"
          },
          "percentage": {
            "type": "number",
            "title": "Percentage"
          },
          "accuracy": {
            "type": "number",
            "title": "Accuracy"
          }
        },
        "type": "object",
        "required": [
          "challenges",
          "percentage",
          "accuracy"
        ],
        "title": "LanguageDistribution"
      },
      "LearnerEnrollRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "tutor_id": {
            "type": "string",
            "title": "Tutor Id"
          },
          "enrolled_by": {
            "type": "string",
            "title": "Enrolled By"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "institution_id",
          "tutor_id",
          "enrolled_by"
        ],
        "title": "LearnerEnrollRequest",
        "description": "Admin enrolls learner"
      },
      "LearnerSelfSignupRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "institution_code": {
            "type": "string",
            "title": "Institution Code"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "password",
          "institution_code"
        ],
        "title": "LearnerSelfSignupRequest",
        "description": "Learner signs up with institution code"
      },
      "LearnerSelfSignupResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "tutor_id": {
            "type": "string",
            "title": "Tutor Id"
          },
          "requires_consent": {
            "type": "boolean",
            "title": "Requires Consent"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "institution_id",
          "tutor_id",
          "requires_consent",
          "message"
        ],
        "title": "LearnerSelfSignupResponse"
      },
      "LearningPlan": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "proficiency_level": {
            "type": "string",
            "title": "Proficiency Level"
          },
          "goals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Goals"
          },
          "duration_months": {
            "type": "integer",
            "title": "Duration Months"
          },
          "custom_goal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Goal"
          },
          "plan_content": {
            "type": "object",
            "title": "Plan Content"
          },
          "assessment_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assessment Data"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "total_sessions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Sessions"
          },
          "completed_sessions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed Sessions",
            "default": 0
          },
          "progress_percentage": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress Percentage",
            "default": 0.0
          },
          "session_summaries": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Summaries",
            "default": []
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "default": "in_progress"
          },
          "final_assessment": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Final Assessment"
          },
          "all_sessions_completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "All Sessions Completed At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "language",
          "proficiency_level",
          "goals",
          "duration_months",
          "plan_content",
          "created_at"
        ],
        "title": "LearningPlan"
      },
      "LifetimeProgressResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "default": true
          },
          "summary": {
            "$ref": "#/components/schemas/LifetimeSummary"
          },
          "language_progress": {
            "additionalProperties": {
              "type": "object"
            },
            "type": "object",
            "title": "Language Progress"
          },
          "level_mastery": {
            "additionalProperties": {
              "type": "object"
            },
            "type": "object",
            "title": "Level Mastery"
          },
          "challenge_type_mastery": {
            "additionalProperties": {
              "type": "object"
            },
            "type": "object",
            "title": "Challenge Type Mastery"
          },
          "learning_path": {
            "type": "object",
            "title": "Learning Path"
          },
          "achievements": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Achievements"
          },
          "milestones": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Milestones"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "summary",
          "language_progress",
          "level_mastery",
          "challenge_type_mastery",
          "learning_path",
          "metadata"
        ],
        "title": "LifetimeProgressResponse"
      },
      "LifetimeSummary": {
        "properties": {
          "total_challenges": {
            "type": "integer",
            "title": "Total Challenges"
          },
          "total_sessions": {
            "type": "integer",
            "title": "Total Sessions"
          },
          "total_xp": {
            "type": "integer",
            "title": "Total Xp"
          },
          "total_time_hours": {
            "type": "number",
            "title": "Total Time Hours"
          },
          "member_since": {
            "type": "string",
            "title": "Member Since"
          },
          "longest_streak": {
            "type": "integer",
            "title": "Longest Streak"
          },
          "current_streak": {
            "type": "integer",
            "title": "Current Streak"
          }
        },
        "type": "object",
        "required": [
          "total_challenges",
          "total_sessions",
          "total_xp",
          "total_time_hours",
          "member_since",
          "longest_streak",
          "current_streak"
        ],
        "title": "LifetimeSummary"
      },
      "LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest"
      },
      "NextLevelPlanSuggestionResponse": {
        "properties": {
          "suggested": {
            "type": "boolean",
            "title": "Suggested"
          },
          "based_on_plan": {
            "type": "string",
            "title": "Based On Plan"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "proficiency_level": {
            "type": "string",
            "title": "Proficiency Level"
          },
          "previous_level": {
            "type": "string",
            "title": "Previous Level"
          },
          "goals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Goals"
          },
          "duration_months": {
            "type": "integer",
            "title": "Duration Months"
          },
          "focus_areas": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Focus Areas"
          },
          "customizable": {
            "type": "boolean",
            "title": "Customizable"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "suggested",
          "based_on_plan",
          "language",
          "proficiency_level",
          "previous_level",
          "goals",
          "duration_months",
          "focus_areas",
          "customizable",
          "message"
        ],
        "title": "NextLevelPlanSuggestionResponse"
      },
      "NotificationCreate": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "notification_type": {
            "type": "string",
            "title": "Notification Type"
          },
          "target_user_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target User Ids"
          },
          "send_immediately": {
            "type": "boolean",
            "title": "Send Immediately",
            "default": true
          },
          "scheduled_send_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Send Time"
          }
        },
        "type": "object",
        "required": [
          "title",
          "content",
          "notification_type"
        ],
        "title": "NotificationCreate"
      },
      "NotificationDeleteRequest": {
        "properties": {
          "notification_id": {
            "type": "string",
            "title": "Notification Id"
          }
        },
        "type": "object",
        "required": [
          "notification_id"
        ],
        "title": "NotificationDeleteRequest"
      },
      "NotificationListResponse": {
        "properties": {
          "notifications": {
            "items": {
              "$ref": "#/components/schemas/UserNotificationResponse"
            },
            "type": "array",
            "title": "Notifications"
          },
          "unread_count": {
            "type": "integer",
            "title": "Unread Count"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "notifications",
          "unread_count",
          "total_count"
        ],
        "title": "NotificationListResponse"
      },
      "NotificationMarkReadRequest": {
        "properties": {
          "notification_id": {
            "type": "string",
            "title": "Notification Id"
          }
        },
        "type": "object",
        "required": [
          "notification_id"
        ],
        "title": "NotificationMarkReadRequest"
      },
      "NotificationResponse": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "notification_type": {
            "type": "string",
            "title": "Notification Type"
          },
          "target_user_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target User Ids"
          },
          "send_immediately": {
            "type": "boolean",
            "title": "Send Immediately",
            "default": true
          },
          "scheduled_send_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Send Time"
          },
          "created_by": {
            "type": "string",
            "title": "Created By"
          },
          "_id": {
            "type": "string",
            "title": " Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "sent_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sent At"
          },
          "is_sent": {
            "type": "boolean",
            "title": "Is Sent",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "title",
          "content",
          "notification_type",
          "created_by",
          "_id",
          "created_at"
        ],
        "title": "NotificationResponse"
      },
      "PasswordResetConfirm": {
        "properties": {
          "token": {
            "type": "string",
            "title": "Token"
          },
          "new_password": {
            "type": "string",
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "token",
          "new_password"
        ],
        "title": "PasswordResetConfirm"
      },
      "PasswordResetRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "PasswordResetRequest"
      },
      "PasswordUpdateRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password"
          },
          "new_password": {
            "type": "string",
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "PasswordUpdateRequest"
      },
      "ProjectKnowledgeRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ProjectKnowledgeRequest"
      },
      "ProjectKnowledgeResponse": {
        "properties": {
          "response": {
            "type": "string",
            "title": "Response"
          },
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "response"
        ],
        "title": "ProjectKnowledgeResponse"
      },
      "RealtimeUsageData": {
        "properties": {
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "audio_input_tokens": {
            "type": "integer",
            "title": "Audio Input Tokens",
            "default": 0
          },
          "audio_output_tokens": {
            "type": "integer",
            "title": "Audio Output Tokens",
            "default": 0
          },
          "text_input_tokens": {
            "type": "integer",
            "title": "Text Input Tokens",
            "default": 0
          },
          "text_output_tokens": {
            "type": "integer",
            "title": "Text Output Tokens",
            "default": 0
          },
          "cached_input_audio_tokens": {
            "type": "integer",
            "title": "Cached Input Audio Tokens",
            "default": 0
          },
          "cached_input_text_tokens": {
            "type": "integer",
            "title": "Cached Input Text Tokens",
            "default": 0
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "default": 0
          },
          "session_start": {
            "type": "string",
            "title": "Session Start"
          },
          "session_end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session End"
          },
          "session_duration_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Duration Seconds"
          },
          "estimated_cost": {
            "type": "number",
            "title": "Estimated Cost",
            "default": 0.0
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "gpt-realtime-mini"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "language",
          "level",
          "session_start"
        ],
        "title": "RealtimeUsageData"
      },
      "RecentPerformanceInsights": {
        "properties": {
          "most_practiced_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Practiced Type"
          },
          "most_practiced_language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Practiced Language"
          },
          "weakest_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weakest Level"
          },
          "weakest_level_accuracy": {
            "type": "number",
            "title": "Weakest Level Accuracy",
            "default": 0.0
          },
          "strongest_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strongest Level"
          },
          "strongest_level_accuracy": {
            "type": "number",
            "title": "Strongest Level Accuracy",
            "default": 0.0
          },
          "improvement_trend": {
            "type": "string",
            "title": "Improvement Trend",
            "default": "stable"
          },
          "accuracy_change_percent": {
            "type": "number",
            "title": "Accuracy Change Percent",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "RecentPerformanceInsights"
      },
      "RecentPerformanceResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "default": true
          },
          "window": {
            "type": "object",
            "title": "Window"
          },
          "summary": {
            "$ref": "#/components/schemas/RecentPerformanceSummary"
          },
          "insights": {
            "$ref": "#/components/schemas/RecentPerformanceInsights"
          },
          "daily_breakdown": {
            "items": {
              "$ref": "#/components/schemas/DailyBreakdownItem"
            },
            "type": "array",
            "title": "Daily Breakdown"
          },
          "language_distribution": {
            "additionalProperties": {
              "$ref": "#/components/schemas/LanguageDistribution"
            },
            "type": "object",
            "title": "Language Distribution"
          },
          "type_distribution": {
            "additionalProperties": {
              "$ref": "#/components/schemas/LanguageDistribution"
            },
            "type": "object",
            "title": "Type Distribution"
          },
          "level_performance": {
            "additionalProperties": {
              "type": "object"
            },
            "type": "object",
            "title": "Level Performance"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "window",
          "summary",
          "insights",
          "daily_breakdown",
          "language_distribution",
          "type_distribution",
          "level_performance",
          "metadata"
        ],
        "title": "RecentPerformanceResponse"
      },
      "RecentPerformanceSummary": {
        "properties": {
          "total_sessions": {
            "type": "integer",
            "title": "Total Sessions"
          },
          "total_challenges": {
            "type": "integer",
            "title": "Total Challenges"
          },
          "average_accuracy": {
            "type": "number",
            "title": "Average Accuracy"
          },
          "total_xp": {
            "type": "integer",
            "title": "Total Xp"
          },
          "total_time_minutes": {
            "type": "number",
            "title": "Total Time Minutes"
          },
          "active_days": {
            "type": "integer",
            "title": "Active Days"
          }
        },
        "type": "object",
        "required": [
          "total_sessions",
          "total_challenges",
          "average_accuracy",
          "total_xp",
          "total_time_minutes",
          "active_days"
        ],
        "title": "RecentPerformanceSummary"
      },
      "ResendVerificationRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ResendVerificationRequest"
      },
      "SaveConversationRequest": {
        "properties": {
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "messages": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Messages"
          },
          "duration_minutes": {
            "type": "number",
            "title": "Duration Minutes"
          },
          "learning_plan_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Learning Plan Id"
          },
          "conversation_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Type",
            "default": "practice"
          },
          "sentences_for_analysis": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sentences For Analysis",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "language",
          "level",
          "messages",
          "duration_minutes"
        ],
        "title": "SaveConversationRequest"
      },
      "SentenceAnalysisFeedback": {
        "properties": {
          "session_id": {
            "type": "string",
            "title": "Session Id"
          },
          "feedback_type": {
            "type": "string",
            "title": "Feedback Type"
          },
          "sentence_text": {
            "type": "string",
            "title": "Sentence Text"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "analysis_decision": {
            "type": "object",
            "title": "Analysis Decision"
          },
          "user_rating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Rating"
          },
          "user_comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Comment"
          },
          "expected_outcome": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected Outcome"
          },
          "session_duration": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Duration"
          },
          "retry_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retry Count"
          },
          "conversation_context": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Context"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "feedback_type",
          "sentence_text",
          "language",
          "level",
          "analysis_decision"
        ],
        "title": "SentenceAnalysisFeedback"
      },
      "SentenceAssessmentRequest": {
        "properties": {
          "audio_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audio Base64"
          },
          "transcript": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transcript"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "exercise_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise Type",
            "default": "free"
          },
          "target_grammar": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Grammar"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "language",
          "level"
        ],
        "title": "SentenceAssessmentRequest"
      },
      "SentenceAssessmentResponse": {
        "properties": {
          "recognized_text": {
            "type": "string",
            "title": "Recognized Text"
          },
          "grammatical_score": {
            "type": "number",
            "title": "Grammatical Score"
          },
          "vocabulary_score": {
            "type": "number",
            "title": "Vocabulary Score"
          },
          "complexity_score": {
            "type": "number",
            "title": "Complexity Score"
          },
          "appropriateness_score": {
            "type": "number",
            "title": "Appropriateness Score"
          },
          "overall_score": {
            "type": "number",
            "title": "Overall Score"
          },
          "grammar_issues": {
            "items": {
              "$ref": "#/components/schemas/GrammarIssue"
            },
            "type": "array",
            "title": "Grammar Issues"
          },
          "improvement_suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Improvement Suggestions"
          },
          "corrected_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Corrected Text"
          },
          "level_appropriate_alternatives": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Level Appropriate Alternatives"
          }
        },
        "type": "object",
        "required": [
          "recognized_text",
          "grammatical_score",
          "vocabulary_score",
          "complexity_score",
          "appropriateness_score",
          "overall_score",
          "grammar_issues",
          "improvement_suggestions"
        ],
        "title": "SentenceAssessmentResponse"
      },
      "SentenceEvaluationRequest": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "conversation_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Context"
          }
        },
        "type": "object",
        "required": [
          "text",
          "language",
          "level"
        ],
        "title": "SentenceEvaluationRequest"
      },
      "SentenceEvaluationResponse": {
        "properties": {
          "should_analyze": {
            "type": "boolean",
            "title": "Should Analyze"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "confidence": {
            "type": "number",
            "title": "Confidence"
          }
        },
        "type": "object",
        "required": [
          "should_analyze",
          "reason",
          "confidence"
        ],
        "title": "SentenceEvaluationResponse"
      },
      "SessionProgressUpdate": {
        "properties": {
          "plan_id": {
            "type": "string",
            "title": "Plan Id"
          },
          "completed_sessions": {
            "type": "integer",
            "title": "Completed Sessions"
          }
        },
        "type": "object",
        "required": [
          "plan_id",
          "completed_sessions"
        ],
        "title": "SessionProgressUpdate",
        "description": "Model for updating session progress"
      },
      "ShareProgressRequest": {
        "properties": {
          "assessment_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assessment Id"
          },
          "learning_plan_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Learning Plan Id"
          },
          "share_type": {
            "type": "string",
            "title": "Share Type",
            "default": "progress"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "default": "instagram"
          },
          "week_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Number"
          },
          "custom_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Message"
          }
        },
        "type": "object",
        "title": "ShareProgressRequest"
      },
      "ShareProgressResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "image_url": {
            "type": "string",
            "title": "Image Url"
          },
          "image_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Base64"
          },
          "share_text": {
            "type": "string",
            "title": "Share Text"
          },
          "download_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Download Url"
          },
          "qr_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qr Code"
          }
        },
        "type": "object",
        "required": [
          "success",
          "image_url",
          "share_text"
        ],
        "title": "ShareProgressResponse"
      },
      "SkillScore": {
        "properties": {
          "score": {
            "type": "number",
            "title": "Score"
          },
          "feedback": {
            "type": "string",
            "title": "Feedback"
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Examples",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "score",
          "feedback"
        ],
        "title": "SkillScore"
      },
      "SpeakingAssessmentRequest": {
        "properties": {
          "audio_base64": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audio Base64"
          },
          "transcript": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transcript"
          },
          "language": {
            "type": "string",
            "title": "Language"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "default": 60
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt"
          }
        },
        "type": "object",
        "required": [
          "language"
        ],
        "title": "SpeakingAssessmentRequest"
      },
      "SpeakingAssessmentResponse": {
        "properties": {
          "recognized_text": {
            "type": "string",
            "title": "Recognized Text"
          },
          "recommended_level": {
            "type": "string",
            "title": "Recommended Level"
          },
          "overall_score": {
            "type": "number",
            "title": "Overall Score"
          },
          "confidence": {
            "type": "number",
            "title": "Confidence"
          },
          "pronunciation": {
            "$ref": "#/components/schemas/SkillScore"
          },
          "grammar": {
            "$ref": "#/components/schemas/SkillScore"
          },
          "vocabulary": {
            "$ref": "#/components/schemas/SkillScore"
          },
          "fluency": {
            "$ref": "#/components/schemas/SkillScore"
          },
          "coherence": {
            "$ref": "#/components/schemas/SkillScore"
          },
          "strengths": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Strengths"
          },
          "areas_for_improvement": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Areas For Improvement"
          },
          "next_steps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Next Steps"
          }
        },
        "type": "object",
        "required": [
          "recognized_text",
          "recommended_level",
          "overall_score",
          "confidence",
          "pronunciation",
          "grammar",
          "vocabulary",
          "fluency",
          "coherence",
          "strengths",
          "areas_for_improvement",
          "next_steps"
        ],
        "title": "SpeakingAssessmentResponse"
      },
      "StreakInfo": {
        "properties": {
          "current": {
            "type": "integer",
            "title": "Current"
          },
          "longest": {
            "type": "integer",
            "title": "Longest",
            "default": 0
          },
          "is_active_today": {
            "type": "boolean",
            "title": "Is Active Today"
          },
          "next_milestone": {
            "type": "integer",
            "title": "Next Milestone"
          }
        },
        "type": "object",
        "required": [
          "current",
          "is_active_today",
          "next_milestone"
        ],
        "title": "StreakInfo"
      },
      "SubscriptionRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "SubscriptionRequest"
      },
      "SuggestedResponse": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "pronunciation": {
            "type": "string",
            "title": "Pronunciation"
          },
          "difficulty_level": {
            "type": "string",
            "title": "Difficulty Level"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation"
          }
        },
        "type": "object",
        "required": [
          "text",
          "pronunciation",
          "difficulty_level",
          "explanation"
        ],
        "title": "SuggestedResponse"
      },
      "SummarizeRequest": {
        "properties": {
          "transcript": {
            "type": "string",
            "title": "Transcript"
          }
        },
        "type": "object",
        "required": [
          "transcript"
        ],
        "title": "SummarizeRequest"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "email": {
            "type": "string",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "token_type",
          "user_id",
          "name",
          "email"
        ],
        "title": "Token"
      },
      "TutorAcceptInviteRequest": {
        "properties": {
          "invitation_code": {
            "type": "string",
            "title": "Invitation Code"
          },
          "bio": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bio"
          },
          "qualifications": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualifications"
          }
        },
        "type": "object",
        "required": [
          "invitation_code"
        ],
        "title": "TutorAcceptInviteRequest"
      },
      "TutorChangePasswordRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password"
          },
          "new_password": {
            "type": "string",
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "TutorChangePasswordRequest"
      },
      "TutorInviteRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "invited_by": {
            "type": "string",
            "title": "Invited By"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "institution_id",
          "invited_by"
        ],
        "title": "TutorInviteRequest"
      },
      "TutorLoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "TutorLoginRequest"
      },
      "TutorLoginResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type"
          },
          "tutor_id": {
            "type": "string",
            "title": "Tutor Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "first_login": {
            "type": "boolean",
            "title": "First Login"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "token_type",
          "tutor_id",
          "name",
          "email",
          "first_login",
          "institution_id"
        ],
        "title": "TutorLoginResponse"
      },
      "TutorResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "institution_id": {
            "type": "string",
            "title": "Institution Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "invitation_accepted": {
            "type": "boolean",
            "title": "Invitation Accepted"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "name",
          "institution_id",
          "is_active",
          "invitation_accepted"
        ],
        "title": "TutorResponse"
      },
      "TutorSessionRequest": {
        "properties": {
          "language": {
            "type": "string",
            "title": "Language"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "voice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Voice",
            "default": "alloy"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "user_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Prompt"
          },
          "assessment_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assessment Data"
          },
          "research_data": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Research Data"
          },
          "conversation_history": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation History"
          }
        },
        "type": "object",
        "required": [
          "language",
          "level"
        ],
        "title": "TutorSessionRequest"
      },
      "UnifiedStatsResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "default": true
          },
          "daily": {
            "$ref": "#/components/schemas/DailyStatsResponse"
          },
          "recent": {
            "$ref": "#/components/schemas/RecentPerformanceResponse"
          },
          "lifetime": {
            "$ref": "#/components/schemas/LifetimeProgressResponse"
          }
        },
        "type": "object",
        "required": [
          "daily",
          "recent",
          "lifetime"
        ],
        "title": "UnifiedStatsResponse"
      },
      "UpgradeProcessRequest": {
        "properties": {
          "price_id": {
            "type": "string",
            "title": "Price Id"
          },
          "upgrade_type": {
            "type": "string",
            "title": "Upgrade Type"
          }
        },
        "type": "object",
        "required": [
          "price_id",
          "upgrade_type"
        ],
        "title": "UpgradeProcessRequest",
        "description": "Request model for processing an upgrade"
      },
      "UsageTrackingRequest": {
        "properties": {
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "usage_type": {
            "type": "string",
            "title": "Usage Type"
          },
          "duration_minutes": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Minutes"
          }
        },
        "type": "object",
        "required": [
          "usage_type"
        ],
        "title": "UsageTrackingRequest"
      },
      "UserAchievementResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "icon": {
            "type": "string",
            "title": "Icon"
          },
          "xpBonus": {
            "type": "integer",
            "title": "Xpbonus"
          },
          "unlocked_at": {
            "type": "string",
            "format": "date-time",
            "title": "Unlocked At"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "description",
          "icon",
          "xpBonus",
          "unlocked_at"
        ],
        "title": "UserAchievementResponse"
      },
      "UserAchievementsResponse": {
        "properties": {
          "achievements": {
            "items": {
              "$ref": "#/components/schemas/UserAchievementResponse"
            },
            "type": "array",
            "title": "Achievements"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "total_xp": {
            "type": "integer",
            "title": "Total Xp"
          }
        },
        "type": "object",
        "required": [
          "achievements",
          "total_count",
          "total_xp"
        ],
        "title": "UserAchievementsResponse"
      },
      "UserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login"
          },
          "preferred_language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Language"
          },
          "preferred_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Level"
          },
          "preferred_voice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Voice",
            "default": "alloy"
          },
          "last_assessment_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Assessment Data"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "password"
        ],
        "title": "UserCreate"
      },
      "UserHelpSettings": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "help_enabled": {
            "type": "boolean",
            "title": "Help Enabled",
            "default": true
          },
          "help_language": {
            "type": "string",
            "title": "Help Language",
            "default": "english"
          },
          "show_pronunciation": {
            "type": "boolean",
            "title": "Show Pronunciation",
            "default": true
          },
          "show_grammar_tips": {
            "type": "boolean",
            "title": "Show Grammar Tips",
            "default": true
          },
          "show_cultural_notes": {
            "type": "boolean",
            "title": "Show Cultural Notes",
            "default": true
          },
          "show_vocabulary": {
            "type": "boolean",
            "title": "Show Vocabulary",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "UserHelpSettings"
      },
      "UserListResponse": {
        "properties": {
          "data": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Data"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "data",
          "total"
        ],
        "title": "UserListResponse"
      },
      "UserNotificationResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "notification_id": {
            "type": "string",
            "title": "Notification Id"
          },
          "is_read": {
            "type": "boolean",
            "title": "Is Read",
            "default": false
          },
          "read_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Read At"
          },
          "deleted_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted At"
          },
          "_id": {
            "type": "string",
            "title": " Id"
          },
          "notification": {
            "$ref": "#/components/schemas/NotificationResponse"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "notification_id",
          "_id",
          "notification",
          "created_at"
        ],
        "title": "UserNotificationResponse"
      },
      "UserResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login"
          },
          "preferred_language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Language"
          },
          "preferred_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Level"
          },
          "preferred_voice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Voice",
            "default": "alloy"
          },
          "last_assessment_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Assessment Data"
          },
          "_id": {
            "type": "string",
            "title": " Id"
          },
          "stripe_customer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stripe Customer Id"
          },
          "subscription_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Status"
          },
          "subscription_plan": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Plan"
          },
          "subscription_period": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Period"
          },
          "subscription_price_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Price Id"
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timezone",
            "default": "UTC"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "_id"
        ],
        "title": "UserResponse"
      },
      "UserUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          },
          "preferred_language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Language"
          },
          "preferred_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Level"
          },
          "preferred_voice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Voice"
          },
          "last_assessment_data": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Assessment Data"
          },
          "stripe_customer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stripe Customer Id"
          },
          "subscription_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Status"
          },
          "subscription_plan": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Plan"
          },
          "subscription_period": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Period"
          },
          "subscription_price_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subscription Price Id"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VectorChatRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "VectorChatRequest"
      },
      "VectorChatResponse": {
        "properties": {
          "response": {
            "type": "string",
            "title": "Response"
          },
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "default": []
          },
          "similarity_scores": {
            "items": {
              "type": "number"
            },
            "type": "array",
            "title": "Similarity Scores",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "response"
        ],
        "title": "VectorChatResponse"
      },
      "VocabularyItem": {
        "properties": {
          "word": {
            "type": "string",
            "title": "Word"
          },
          "definition": {
            "type": "string",
            "title": "Definition"
          },
          "pronunciation": {
            "type": "string",
            "title": "Pronunciation"
          },
          "example_sentence": {
            "type": "string",
            "title": "Example Sentence"
          },
          "difficulty_level": {
            "type": "string",
            "title": "Difficulty Level"
          }
        },
        "type": "object",
        "required": [
          "word",
          "definition",
          "pronunciation",
          "example_sentence",
          "difficulty_level"
        ],
        "title": "VocabularyItem"
      },
      "VoiceSampleRequest": {
        "properties": {
          "voice_id": {
            "type": "string",
            "title": "Voice Id"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "default": "english"
          },
          "level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Level",
            "default": "intermediate"
          }
        },
        "type": "object",
        "required": [
          "voice_id"
        ],
        "title": "VoiceSampleRequest"
      },
      "VoiceSelectionRequest": {
        "properties": {
          "voice": {
            "type": "string",
            "title": "Voice"
          }
        },
        "type": "object",
        "required": [
          "voice"
        ],
        "title": "VoiceSelectionRequest"
      },
      "VoiceSelectionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "voice": {
            "type": "string",
            "title": "Voice"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "voice",
          "message"
        ],
        "title": "VoiceSelectionResponse"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "auth/token"
          }
        }
      },
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}